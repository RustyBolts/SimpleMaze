require=function s(a,r,c){function h(e,t){if(!r[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[e]={exports:{}};a[e][0].call(o.exports,function(t){return h(a[e][1][t]||t)},o,o.exports,s,a,r,c)}return r[e].exports}for(var u="function"==typeof require&&require,t=0;t<c.length;t++)h(c[t]);return h}({BoardGameGift:[function(t,e,i){"use strict";cc._RF.push(e,"4da07YPLH9HGr39OmuvC7H6","BoardGameGift");var n=t("Firebase");cc.Class({extends:t("GameMain"),properties:{CardLibary:t("GiftCards"),PlayerManager:t("GiftPlayers")},onLoad:function(){this._uniqneid="uniqneid",this._roommateCode="uniqneid",this._playerName="name",this._winner=!1},_joinGame:function(t){var e=t.detail,i=this.RefName+"/room_"+e,n=this.LobbyRoom.isMaster();this._winner=n,this.PlayerManager.players(i,this._playerName),this._winner&&this.PlayerManager.firstTurn(),this.CardLibary.cards(i,this.PlayerManager.getPlayerCode()),n&&this.CardLibary.create(3,35).shuffle().remove(9).saveLibary().drawCard(),this.PlayerManager.greeting(),this.CardLibary.greeting(),NAERT.addListener("NotifyResultScore",this._resultScore.bind(this),this),NAERT.addListener("NotifyResultGame",this._resultGame.bind(this),this)},_resultScore:function(){this.PlayerManager.resultScore(),cc.log("秀個結算中loading"),this._winner&&this._restartGame()},_resultGame:function(){this.scheduleOnce(function(){var i=this,o={};n.check(this._refPlayers,function(t){var n=t.data;Object.keys(n).forEach(function(t){var e=n[t],i=e.score.coin+e.score.card;o[t].score=i});var e=o.sort(function(t,e){return t.score-e.score})[0];i._winner=Object.keys(e)[0]})}.bind(this),1)},_restartGame:function(){this._winner&&this.CardLibary.create(3,35).shuffle().remove(9).saveLibary().cleanField().drawCard()},_finishGame:function(){this.CardLibary.clearn()},_quitGame:function(){this.PlayerManager.kick(),this._isAlone?n.destroy(this._refGameCode):n.destroy(this._refGameSelf)},clickOnDropCoin:function(){this.PlayerManager.dropCoin()},clickOnTakeGift:function(){this.PlayerManager.takeGift(),this.CardLibary.takeGift(),this.CardLibary.drawCard()},clickOnRestart:function(){this._restartGame()}}),cc._RF.pop()},{Firebase:"Firebase",GameMain:"GameMain",GiftCards:"GiftCards",GiftPlayers:"GiftPlayers"}],BoardSmallBig:[function(t,e,i){"use strict";cc._RF.push(e,"c182fN++WRN5KmIyz69rgAV","BoardSmallBig");var a=t("Firebase");cc.Class({extends:cc.Component,properties:{RefName:"BoardGame/SmallBig/",Lobby:t("Lobby"),CardLibary:t("SmallBigCards"),PlayerManager:t("SmallBigPlayer"),Dialog:t("CommonHint"),Score:cc.Label},onLoad:function(){this._refTablePlayers="uniqneid",this._uniqneid="uniqneid",this._playerName="name",this._winner=!1},start:function(){this.Dialog.login(NAERT.localStorage.getItem("nickname","路人"+Math.floor(1e4*Math.random()))),NAERT.addListener("NotifyPlayerLogin",this._register.bind(this),this),window.onbeforeunload=function(){}},_register:function(t){this._playerName=t.detail,NAERT.localStorage.setItem("nickname",this._playerName),this.Lobby.room(this.RefName,this._playerName).limit(2,10).roomList(),this._addListener()},_addListener:function(){NAERT.addListener("NotifyGuideGame",this._guideGame.bind(this),this),NAERT.addListener("NotifyCompareCard",this._remindCompare.bind(this),this),NAERT.addListener("NotifyGameWinner",this._gameWinner.bind(this),this),NAERT.addListener("NotifyGameAgain",this._restartGame.bind(this),this),NAERT.addListener("NotifyResultGame",this._resultGame.bind(this),this)},_guideGame:function(t){var n=this,o=t.detail,s=this.RefName+"game/"+o.gameCode;this._refTablePlayers=s+"/table/players/",this._playerCode=a.record(this._refTablePlayers,{name:this._playerName,score:0}),a.listen(this._refTablePlayers,function(t){var e=t.success,i=t.num;e&&(cc.log(i,"/",o.count),i==o.count?(a.remove(n._refTablePlayers),n._joinGame(s,i,n.Lobby.isMaster()),n.Lobby.node.active=!1):i>o.count&&(cc.error(i,"大於",o.count,"資料壞掉"),a.remove(n._refTablePlayers)))})},_joinGame:function(t,e,i){this._winner=i,this.PlayerManager.players(t,this._playerCode),this.CardLibary.cards(t,this._playerCode),i&&this.CardLibary.create(3,15).shuffle().saveLibary().fan(e),this.PlayerManager.greeting(),this.CardLibary.greeting(e),this._max=e},_remindCompare:function(){cc.log(this._winner),this._winner&&this.CardLibary.fin()},_gameWinner:function(t){var i=this,n=this._refTablePlayers+t.detail;a.check(n,function(t){var e=t.data;i._winner&&a.refresh(n+"/score",++e.score),i.Dialog.hint(e.name+" won!"),i._winner?i.Dialog.button("Again","notify","NotifyGameAgain"):i.Dialog.interval(2)})},_resultGame:function(){this.scheduleOnce(function(){var n=this,o=[];a.check(this._refTablePlayers,function(t){var i=t.data;Object.keys(i).forEach(function(t){var e=i[t];o.push({playerCode:t,playerName:e.name,score:e.score})});var e=o.sort(function(t,e){return t.score-e.score})[o.length-1];n.Dialog.hint("Winner is "+e.playerName+"!!!!")})}.bind(this),1)},_restartGame:function(){this.CardLibary.fan(this._max)},_finishGame:function(){this.CardLibary.clearn()},clickFullScreen:function(t){var e=t.target.getChildren()[0],i=t.target.getChildren()[1];cc.screen.fullScreen()?(cc.screen.exitFullScreen(),e.active=!0,i.active=!1):(cc.screen.requestFullScreen(),e.active=!1,i.active=!0)},clickReloadWeb:function(t){window.location.reload()}}),cc._RF.pop()},{CommonHint:"CommonHint",Firebase:"Firebase",Lobby:"Lobby",SmallBigCards:"SmallBigCards",SmallBigPlayer:"SmallBigPlayer"}],BouncyBall:[function(t,e,i){"use strict";cc._RF.push(e,"a65aa3rGbhAPbqjaFS1T7no","BouncyBall");t("Throw");var o=t("HitArea"),s=t("Pitcher");cc.Class({extends:cc.Component,properties:{Times:200,Duration:.01,Targets:[cc.Node]},onLoad:function(){var t=cc.director.getScene().children[0];this._angle=0,this._magnitude=0,this._retard=0,this._area={x:0,y:0,width:t.width,height:t.height}},position:function(t){var e=t.x,i=t.y;return this.node.setPosition({x:e,y:i}),this},angle:function(t){return this._angle=t,this},retard:function(t){return this._retard=t,this},magnitude:function(t){return this._magnitude=t,this._execute(),this},onHit:function(t){return this._hitEvent=t,this},_execute:function(){this.unschedule(this._onUpdate),this.schedule(this._onUpdate,this.Duration,this.Times)},_onUpdate:function(){var n=this;this._angle=s.reflectionAngle(this.node,this._area,this._angle,this._magnitude),this.node.setPosition(s.project(this.node,this._angle,this._magnitude)),this._magnitude=s.retard(this._magnitude,this._retard),this.Targets.forEach(function(t,e,i){o.hit(n.node,t)&&n._hitEvent(t,e,i)})}}),cc._RF.pop()},{HitArea:"HitArea",Pitcher:"Pitcher",Throw:"Throw"}],Bullet:[function(t,e,i){"use strict";cc._RF.push(e,"8cb26Kjr7pLk4JdxkiZ2Zhm","Bullet");t("Firebase");var n=t("Throw"),o=t("HitArea");cc.Class({extends:cc.Component,properties:{Targets:[cc.Node]},onLoad:function(){this._angle=361,this._duration=0,this._magnitude=0,this._range=0,this._hitEvent=null,this._currentEvent=null},update:function(){this._currentEvent&&this._currentEvent()},shoot:function(){var i=[];this.Targets.forEach(function(t){return i.concat(t.getChildren())}),361==this._angle&&cc.error("角度未設定",this._angle),0==this._magnitude&&cc.error("力道未設定",this._magnitude),this._currentEvent=function(){var e=this;this.node.setPosition(n.project(this.node,this._angle,this._magnitude)),i.forEach(function(t){if(o.hit(e.node,t))return cc.log("hi"),void e._endEvent()}),this._duration--<0&&this._endEvent()}.bind(this)},position:function(t){var e=t.x,i=t.y;return this.node.position={x:e,y:i},this},angle:function(t){return this._angle=t,this.node.rotation=t,this},magnitude:function(t){return this._magnitude=t,this},range:function(t){return this._duration=t,this},hitEvent:function(t){return this._hitEvent=t,this},_endEvent:function(){this._hitEvent&&this._hitEvent(),this._angle=361,this._duration=0,this._magnitude=0,this._range=0,this._hitEvent=null,this._currentEvent=null,this.node.active=!1}}),cc._RF.pop()},{Firebase:"Firebase",HitArea:"HitArea",Throw:"Throw"}],1:[function(t,e,h){(function(o){function s(t,e){for(var i=0,n=t.length-1;0<=n;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return e.exec(t).slice(1)};function r(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}h.resolve=function(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){var n=0<=i?arguments[i]:o.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(t=n+"/"+t,e="/"===n.charAt(0))}return(e?"/":"")+(t=s(r(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},h.normalize=function(t){var e=h.isAbsolute(t),i="/"===n(t,-1);return(t=s(r(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},h.isAbsolute=function(t){return"/"===t.charAt(0)},h.join=function(){var t=Array.prototype.slice.call(arguments,0);return h.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},h.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}t=h.resolve(t).substr(1),e=h.resolve(e).substr(1);for(var n=i(t.split("/")),o=i(e.split("/")),s=Math.min(n.length,o.length),a=s,r=0;r<s;r++)if(n[r]!==o[r]){a=r;break}var c=[];for(r=a;r<n.length;r++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},h.sep="/",h.delimiter=":",h.dirname=function(t){var e=a(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},h.basename=function(t,e){var i=a(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},h.extname=function(t){return a(t)[3]};var n="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:2}],2:[function(t,e,i){var n,o,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:r}catch(t){o=r}})();var h,u=[],d=!1,l=-1;function f(){d&&h&&(d=!1,h.length?u=h.concat(u):l=-1,u.length&&_())}function _(){if(!d){var t=c(f);d=!0;for(var e=u.length;e;){for(h=u,u=[];++l<e;)h&&h[l].run();l=-1,e=u.length}h=null,d=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new p(t,e)),1!==u.length||d||c(_)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],Chair:[function(t,e,i){"use strict";cc._RF.push(e,"d9e326+brxLqqukm7azx5OQ","Chair");cc.Class({extends:cc.Component,properties:{StandButton:cc.Node,SitButton:cc.Node,PlayerName:cc.Label},onLoad:function(){this.node.active=!1},setInfo:function(t,e){cc.log(t,e),this.node.active=!0,this.StandButton.active="ready"==t.status,this.SitButton.active="unready"==t.status,this.PlayerName.string=this.StandButton.active?t.name+"已經就緒":t.name+"還沒準備好",e?(this._setButtonEvent(this.StandButton,"_standUp"),this._setButtonEvent(this.SitButton,"_sitDown")):(this._setButtonEvent(this.StandButton),this._setButtonEvent(this.SitButton))},_standUp:function(){NAERT.dispatchCustomEvent("NotifyStandUp","",this)},_sitDown:function(){NAERT.dispatchCustomEvent("NotifySitDown","",this)},_setButtonEvent:function(t,e,i){var n=t.getComponent(cc.Button)||t.addComponent(cc.Button);e?n.clickEvents[0]=this._eventHandlerClick(e,i):n.clickEvents=[]},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="Chair",i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{}],ColorEditor:[function(t,e,i){"use strict";cc._RF.push(e,"6b35efGagdEHIe0QZeb34wf","ColorEditor");var s=["000000","ff0000","00ff00","0000ff","ffff00","00ffff","ffffff"];cc.Class({extends:cc.Component,properties:{Width:30,Height:30,Pixel:5,Box:cc.Node},onLoad:function(){this._poly();this.node.children[12].color=cc.Color.GREEN,this._mirrorEffect(this.node.children[12])},_setPalette:function(){var i=this;this._palette={},s.forEach(function(t){var e=i._hexToRgb(t);i._palette[t]=new cc.Color(e[0],e[1],e[2])})},_poly:function(){var t=this.Width*this.Height;this.node.setContentSize(this.Width*(this.Pixel+1),this.Height*this.Pixel),this.Box.setContentSize(this.Pixel,this.Pixel);for(var e=0;e<t;e++){cc.instantiate(this.Box).parent=this.node}},_save:function(){var n=this,o={};s.forEach(function(t){return o[t]=[]}),this.node.children.forEach(function(t,e){var i=n._rgbToHex(t.color);o[i].push(e)}),this.colorStorage=o},_load:function(){var i=this,n=this.node.children;Object.keys(this.colorStorage).forEach(function(t){var e=i._palette[t];i.colorStorage[t].forEach(function(t){n[t].color=e})})},_clean:function(){this.node.children.forEach(function(t){return t.color=cc.Color.WHITE})},_randomColor:function(){return this._palette[s[[Math.round(100*Math.random())%s.length]]]},_hexToRgb:function(e){return(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map(function(t){return parseInt(e.length%2?t+t:t,16)})},_rgbToHex:function(t){return[t.r,t.g,t.b].map(function(t){var e=t.toString(16);return 1==e.length?"0"+e:e}).join("")},_mirrorEffect:function(t){this.Width;var e=this.Width-1-t.getSiblingIndex()%this.Width,i=Math.floor(t.getSiblingIndex()/this.Width);e+=i*this.Width,cc.log(e,t.getSiblingIndex(),i),this.node.children[e].color=cc.Color.RED},_reverse:function(){var n=this;this.node.children.map(function(t,e){var i=n._rgbToHex(t.color);obj[i].push(e)})},clickOnSave:function(){this._save()},clickOnClean:function(){this._clean()},clickOnLoad:function(){this._load()},clickOnReverse:function(){this._reverse()},_usage:function(){this._mertials.push(merital)}}),cc._RF.pop()},{}],CommonHint:[function(t,e,i){"use strict";cc._RF.push(e,"b15f2wHjLpPWLMknQEXdnQk","CommonHint");t("Firebase");cc.Class({extends:t("HintWindow"),properties:{EditBox:cc.EditBox},onEnable:function(){this.EditBox.node.active=!1,this._tween(this.node,[cc.v2(0,-150),cc.v2(0,0)],[100,255])},placeholder:function(t){this.EditBox.node.active=!0,this.EditBox.placeholder=t},login:function(t){this.hint("Your nickname:"),this.button("Login",this._login.bind(this)),this.placeholder(t)},createRoom:function(t){this.hint("Room name:"),this.button("Create",this._createRoom.bind(this)),this.button("Cancel",this._back.bind(this)),this.placeholder(t)},_login:function(){NAERT.dispatchCustomEvent("NotifyPlayerLogin",this._getInputData(),this),this.hide()},_createRoom:function(){NAERT.dispatchCustomEvent("NotifyCreateNewRoom",this._getInputData(),this),this.hide()},_back:function(){NAERT.dispatchCustomEvent("NotifyLobbyRoom",null,this),this.hide()},_getInputData:function(){var t=this.EditBox.string.length?this.EditBox.string:this.EditBox.placeholder;return this.EditBox.string="",cc.log("input:",t),t}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow"}],CommonStatus:[function(t,e,i){"use strict";cc._RF.push(e,"a3d3885lb9CkbOjTPrsubQU","CommonStatus");e.exports={testSecond:.5,gravity:{fallSpeed:-1}},cc._RF.pop()},{}],ControlActor:[function(t,e,i){"use strict";cc._RF.push(e,"95351tM/oxIKrPTSmoIhfqk","ControlActor"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.centerPoint=240,this.tap=[!1,!1],cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyEventHandler,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyEventHandler,this)},onKeyEventHandler:function(t){var e="keydown"==t.type;switch(t.keyCode){case cc.KEY.a:this.tap[0]=e;break;case cc.KEY.s:this.tap[1]=e}},onPress:function(t){t.x<this.centerPoint?this.tap[0]=!0:this.tap[1]=!0},onDrag:function(t,e){},onRelease:function(t){t.x<this.centerPoint?this.tap[0]=!1:this.tap[1]=!1}}),cc._RF.pop()},{}],ControlFlip:[function(t,e,i){"use strict";cc._RF.push(e,"10d72VkmkBEHrdXIPNyNtD+","ControlFlip"),cc.Class({extends:cc.Component,onLoad:function(){this._positionStart=new cc.v2(0,0),this._positionEnd=new cc.v2(0,0),this._enableLimit=.6*this.node.width,this._activeCount=0},update:function(){if(0<this._activeCount){this._activeCount--;var t=this.node.position.x,e=this.node.position.y,i=this._positionEnd.x,n=this._positionEnd.y;this.node.position=new cc.v2(t+.5*(i-t),e+.5*(n-e))}},onPress:function(t){},onDrag:function(t,e){if(this.node.active){var i=this._positionEnd;this._positionEnd=new cc.v2(i.x+e.x,i.y+e.y),this._activeCount=5}},onRelease:function(t){if(this.node.active){var e={x:this._positionEnd.x-this._positionStart.x,y:this._positionEnd.y-this._positionStart.y};Math.abs(e.x)>this._enableLimit?e.x<0?NAERT.dispatchCustomEvent("NotifyUIControlFlip",UIEnum.Flip.RIGHT,this):NAERT.dispatchCustomEvent("NotifyUIControlFlip",UIEnum.Flip.LEFT,this):Math.abs(e.y)>this._enableLimit&&(0<e.y?NAERT.dispatchCustomEvent("NotifyUIControlFlip",UIEnum.Flip.DOWN,this):NAERT.dispatchCustomEvent("NotifyUIControlFlip",UIEnum.Flip.UP,this)),this._positionEnd=this._positionStart,this._activeCount=10}}}),cc._RF.pop()},{}],ControlFoldList:[function(t,e,i){"use strict";cc._RF.push(e,"f61b5IRBOhD7Kmr0ArnJKng","ControlFoldList"),cc.Class({extends:cc.Component,onLoad:function(){this._positionStart=new cc.v2(0,0),this._positionEnd=new cc.v2(0,0),this._enableLimit=.3*this.node.width,this._activeCount=0,this._type=1},update:function(){if(0<this._activeCount){this._activeCount--;var t=this.node.position.x,e=this.node.position.y,i=this._positionEnd.x,n=this._positionEnd.y;this.node.position=new cc.v2(t+.5*(i-t),e+.5*(n-e))}},onPress:function(t){},onDrag:function(t,e){if(this.node.active){var i=this._positionEnd;this._positionEnd=new cc.v2(i.x+e.x,i.y+e.y),this._activeCount=5}},onRelease:function(t){if(this.node.active){var e={x:this._positionEnd.x-this._positionStart.x,y:this._positionEnd.y-this._positionStart.y};Math.abs(e.x)>this._enableLimit?e.x<0?cc.log(this._type--):cc.log(this._type++):(Math.abs(e.y),this._enableLimit),this._positionEnd=this._positionStart,this._activeCount=10}}}),cc._RF.pop()},{}],ControlMain:[function(t,e,i){"use strict";cc._RF.push(e,"280c3rsZJJKnZ9RqbALVwtK","ControlMain"),cc.Class({extends:cc.Component,properties:{startTaps:[cc.Component.EventHandler],currentTaps:[cc.Component.EventHandler],finishTaps:[cc.Component.EventHandler]},onLoad:function(){},start:function(){var n=this,t=this.node;t.on(cc.Node.EventType.TOUCH_START,function(t){var e=t.touch.getLocation();n.startTaps.forEach(function(t){return t.emit([e])})}),t.on(cc.Node.EventType.TOUCH_MOVE,function(t){var e=t.touch.getLocation(),i=t.touch.getDelta();n.currentTaps.forEach(function(t){return t.emit([e,i])})}),t.on(cc.Node.EventType.TOUCH_END,function(t){var e=t.touch.getLocation();n.finishTaps.forEach(function(t){return t.emit([e])})}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(t){var e=t.touch.getLocation();n.finishTaps.forEach(function(t){return t.emit([e])})})},onDestroy:function(){}}),cc._RF.pop()},{}],ControlPoke:[function(t,e,i){"use strict";cc._RF.push(e,"b4dabVzqGRM7bY4GrD1mcbH","ControlPoke"),cc.Class({extends:cc.Component,onLoad:function(){this._positionStart=new cc.v2(0,0),this._energy=0,this._enableLimit=5,this._activeCount=0},onPress:function(t){this._positionStart=t,this._energy=0,this._activeCount=0},onDrag:function(t,e){this.node.active&&(this._energy+=e.x,this._energy+=e.y,this._activeCount==this._enableLimit&&NAERT.dispatchCustomEvent("NotifyControlPoke",this._energy,this),this._activeCount++)}}),cc._RF.pop()},{}],ControlSlide:[function(t,e,i){"use strict";cc._RF.push(e,"dee68Pbdm5L277otrXOJoUe","ControlSlide"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._activeCount=0},onPress:function(){this._activeCount=0},onDrag:function(t,e){var i=this.node.position,n=i.x+e.x,o=i.y+e.y;this.node.position=new cc.v2(n,o),5==this._activeCount&&(this._activeCount=0,NAERT.dispatchCustomEvent("NotifyControlSlidePosition",{x:n,y:o},this)),this._activeCount++}}),cc._RF.pop()},{}],ControlTwoSideTap:[function(t,e,i){"use strict";cc._RF.push(e,"534eez+gMxIFYgwzN+2yBYf","ControlTwoSideTap"),cc.Class({extends:cc.Component,onLoad:function(){var t=cc.director.getScene().getChildren()[0];this.centerPoint=Math.round(.5*t.width),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyEventHandler,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyEventHandler,this)},onKeyEventHandler:function(t){var e="keydown"==t.type;switch(t.keyCode){case cc.KEY.left:case cc.KEY.a:NAERT.dispatchCustomEvent("NotifyControlLeftSideTap",e,this),NAERT.dispatchCustomEvent("NotifyControlRightSideTap",!1,this);break;case cc.KEY.right:case cc.KEY.d:NAERT.dispatchCustomEvent("NotifyControlLeftSideTap",!1,this),NAERT.dispatchCustomEvent("NotifyControlRightSideTap",e,this);break;case cc.KEY.up:case cc.KEY.w:NAERT.dispatchCustomEvent("NotifyControlLeftSideTap",e,this),NAERT.dispatchCustomEvent("NotifyControlRightSideTap",e,this)}},onPress:function(t){t.x<this.centerPoint?NAERT.dispatchCustomEvent("NotifyControlLeftSideTap",!0,this):NAERT.dispatchCustomEvent("NotifyControlRightSideTap",!0,this)},onDrag:function(t,e){},onRelease:function(t){t.x<this.centerPoint?NAERT.dispatchCustomEvent("NotifyControlLeftSideTap",!1,this):NAERT.dispatchCustomEvent("NotifyControlRightSideTap",!1,this)}}),cc._RF.pop()},{}],CrashNode:[function(t,e,i){"use strict";cc._RF.push(e,"d4237rlotVIUqx0Ax1jG/w0","CrashNode"),cc.Class({extends:cc.Component,properties:{Target:cc.Node,Prefode:cc.Node,Length:{default:0,type:cc.Integer}},onLoad:function(){this._layoutType=0,this._direction=0,this._spacing=0,this._padding=0;var t=this.node.getComponent(cc.Layout);if(t)switch(this._layoutType=t.type,t.type){case cc.Layout.Type.HORIZONTAL:this._direction=t.horizontalDirection,this._spacing=t.spacingX,this._padding=t.paddingLeft+t.paddingRight,this.node.anchorX=this._direction,this.node.anchorY=.5;break;case cc.Layout.Type.VERTICAL:this._direction=t.verticalDirection,this._spacing=t.spacingY,this._padding=t.paddingTop+t.paddingBottom,this.node.anchorX=.5,this.node.anchorY=this._direction;break;default:cc.error("沒有處理Grid哦")}else cc.error("需要 Layout!!")},onEnable:function(){var t=this.node.getChildren();t.forEach(function(t){return t.active=!1});for(var e=0;e<this.Length;e++){var i=t[e]||cc.instantiate(this.Prefode);i.active=!0,i.parent=this.node}switch(cc.log("hi",this.node.name,this.Length),this._layoutType){case cc.Layout.Type.HORIZONTAL:var n=this.Prefode.width*(this.Length+1)+this._spacing*(this.Length-1)+this._padding;this.node.x=0==this._direction?-n:n,0==this._direction?this._pushRight():this._pushLeft();break;case cc.Layout.Type.VERTICAL:var o=this.Prefode.height*(this.Length+1)+this._spacing*(this.Length-1)+this._padding;this.node.y=0==this._direction?-o:o,0==this._direction?this._pushUp():this._pushDown()}},onDisable:function(){this.node.stopAllActions(),this.Length=0},_pushUp:function(){var t=this.Prefode.height+this._spacing,e=Math.round(this.node.y);if(e<0){var i=cc.v2(this.node.x,e+t);this._stepCheckMove(i,this._pushUp)}else this.node.active=!1;this._existTest()},_pushDown:function(){var t=this.Prefode.height+this._spacing,e=Math.round(this.node.y);if(0<e){var i=cc.v2(this.node.x,e-t);this._stepCheckMove(i,this._pushDown)}else this.node.active=!1;this._existTest()},_pushRight:function(){var t=this.Prefode.width+this._spacing,e=Math.round(this.node.x);if(e<0){var i=cc.v2(e+t,this.node.y);this._stepCheckMove(i,this._pushRight)}else this.node.active=!1;this._existTest()},_pushLeft:function(){var t=this.Prefode.width+this._spacing,e=Math.round(this.node.x);if(0<e){var i=cc.v2(e-t,this.node.y);this._stepCheckMove(i,this._pushLeft)}else this.node.active=!1;this._existTest()},_crashCheck:function(){if(this.Target.active){var t=this.node.position,e=this.Target.position,i={w:(this.node.width+this.Target.width)*(this._layoutType==cc.Layout.Type.HORIZONTAL?1:.5),h:(this.node.height+this.Target.height)*(this._layoutType==cc.Layout.Type.VERTICAL?1:.5)};if(this._hitTest(t,e,i)){var n=this.node.getChildren()[--this.Length];n&&this._easeBounceOut(n,1.2,function(){return n.active=!1})}}},_stepCheckMove:function(t,e){this.node.runAction(cc.sequence(cc.moveTo(.5,t),cc.callFunc(this._crashCheck.bind(this),this),cc.delayTime(.5),cc.callFunc(e.bind(this),this)))},_easeBounceOut:function(t,e,i){t.setScale(e,e),t.runAction(cc.sequence(cc.scaleTo(.4,1,1).easing(cc.easeBounceOut()),cc.callFunc(i,this)))},_hitTest:function(t,e,i){var n=Math.abs(t.x-e.x)-.1<=i.w,o=Math.abs(t.y-e.y)-.1<=i.h;return cc.log(n,t.x-e.x,o,t.y-e.y,i),n&&o},_existTest:function(){var t=this.node.getChildren().filter(function(t){return t.active}).length;return t||(this.node.active=!1),t}}),cc._RF.pop()},{}],CrazyHot99:[function(t,e,i){"use strict";cc._RF.push(e,"29bc2woxBxO7J3hPKe3gxm2","CrazyHot99");var n=t("Firebase");cc.Class({extends:t("GameMain"),properties:{View:cc.Node,Actor:cc.Node,ActorLayout:cc.Node,CrazyHotActor:t("CrazyHotActor"),HitTestManager:t("HitTestManager")},onLoad:function(){this._playerInfo={code:"uniqneid",name:"playerName",score:0},this.View.active=!1},_joinGame:function(t,e,i,n,o){this._refGameCode=t,this._refGamePlayers=e,this._refGameMap=this._refGameCode+"map/",this._refGameSelf=e+i,this._playerCode=i,this._isAlone=!1,this.View.active=!0,this._addGamePlayersListener(),this._fullScreen()},_quitGame:function(){this._isAlone?n.destroy(this._refGameCode):n.destroy(this._refGameSelf)},_addGamePlayersListener:function(){n.listen(this._refGamePlayers,function(t){var n=this,e=t.success,o=t.data,i=t.num;if(e){cc.log("_refGamePlayers",o);var s=this.ActorLayout.getChildren();Object.keys(o).forEach(function(e){if(n._playerCode!=e){var t=o[e],i=s.find(function(t){return t.name==e})||cc.instantiate(n.Actor);i.name=e,i.parent=n.ActorLayout,i.getComponent("CrazyHotActor").setServerInfo(t)}}),this._isAlone=1==i}}.bind(this)),this.schedule(function(){this.CrazyHotActor.refreshActorStatus(this._refGameSelf)}.bind(this),.1)},_requestStageMapData:function(t){n.check(this._refGameMap+t,function(t){t.data}.bind(this))}}),cc._RF.pop()},{CrazyHotActor:"CrazyHotActor",Firebase:"Firebase",GameMain:"GameMain",HitTestManager:"HitTestManager"}],CrazyHotActor:[function(t,e,i){"use strict";cc._RF.push(e,"dda01VkhzFP4q+ZJlPgsYjl","CrazyHotActor");var n=t("CommonStatus"),o=t("Pitcher"),s=t("Firebase");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._fallSpeed=n.gravity.fallSpeed,this._xMove=0,this._yMove=0,this._isStand=!1,this._jumpPower=3,this._speed=1},update:function(){this._updateMotion()},fall:function(){-10<this._yMove&&(this._yMove+=this._fallSpeed)},down:function(){this._yMove=-Math.abs(this._yMove),this._forceMagnitude&&(this._forceAngle=-this._forceAngle)},move:function(t){this._xMove+=this._speed*(this._isStand?t:.5*t),this._isStand=!1},jump:function(){0<this._jumpPower&&this._jumpPower--,0<this._jumpPower&&(this._yMove+=5),this.node.y+=this._yMove,this._isStand=!1},standOn:function(t){this._isStand=!0,this.node.y>t.y+.5*t.height&&(this.node.y=t.y+.5*(t.height+this.node.width),this._yMove=0),this._jumpPower<3&&this._jumpPower++},brakes:function(){this._isStand&&(this._xMove*=.5)},bouncy:function(){this._xMove=-this._xMove,this._forceMagnitude&&(this._forceAngle=180-this._forceAngle)},launch:function(t,e){this._forceAngle=t,this._forceMagnitude=e},opation:function(t){},lifeCycle:function(t){this._lifeCycle=t},promptAction:function(t){},refreshActorStatus:function(t){s.refresh(t,{position:this.node.position,xMove:this._xMove,yMove:this._yMove})},setServerInfo:function(t){var e=t.position,i=t.xMove,n=void 0===i?0:i,o=t.yMove,s=void 0===o?0:o;e&&this.node.setPosition(e),this._xMove=n,this._yMove=s,this._isStand=!1},_updateMotion:function(){this._updateForceAttenuation(),this._updateMovePosition()},_updateMovePosition:function(){this.node.x+=this._xMove,this._xMove=.1<Math.abs(this._xMove)?.95*this._xMove:0,!this._isStand&&this.fall(),this.node.y+=this._yMove},_updateForceAttenuation:function(){0<this._lifeCycle?(this._lifeCycle--,this.node.setPosition(o.project(this.node,this._forceAngle,this._forceMagnitude)),this._forceMagnitude*=.95):0==this._lifeCycle&&(this.node.active=!1)}}),cc._RF.pop()},{CommonStatus:"CommonStatus",Firebase:"Firebase",Pitcher:"Pitcher"}],CrazyHotMapEditor:[function(t,e,i){"use strict";cc._RF.push(e,"214ffIGcPNMvolJyhI//n8b","CrazyHotMapEditor");var c=t("Firebase");cc.Class({extends:cc.Component,properties:{Prefode:cc.Node,EditButton:cc.Node,EditDialog:t("EditMapHint")},onLoad:function(){this._stageUniquine=0,NAERT.addListener("NotifyCreateNewStage",this._createNewStage.bind(this),this)},start:function(){c.check("CrazyHot99/map/"+this._stageUniquine,function(t){var n=this,e=t.success,i=t.data,o=this.node.getChildren();if(e)i.forEach(function(t,e){var i=o[e]&&cc.instantiate(n.Prefode);i.name=e.toString(),i.parent=n.node,i.active=!0,i.getComponent("CrazyHotMapTile").setInfo(t)});else{for(var s=[],a=0;a<30;a++){s.push("0");var r=o[a]&&cc.instantiate(this.Prefode);cc.log(r),r.name=a.toString(),r.active=!0,r.parent=this.node}c.refresh("CrazyHot99/map/"+this._stageUniquine,s)}}.bind(this))},_createNewStage:function(){this._stageUniquine=c.record("CrazyHot99/map/",this._newTile(30))},_newTile:function(t){for(var e=this.node.getChildren(),i=[],n=0;n<t;n++){if(e[n]){var o=cc.instantiate(this.Prefode);o.name=n.toString(),o.active=!0,o.parent=this.node}else{o.getComponent("CrazyHotMapTile").setInfo("0")}i.push("0")}return i},clickOnEdit:function(o){c.check("CrazyHot99/map/"+this._stageUniquine,function(t){var e=t.success;t.data;if(e){var i=o.target,n=i.getSiblingIndex()-1;this.EditDialog.open(i,this._stageUniquine,n)}}.bind(this))}}),cc._RF.pop()},{EditMapHint:"EditMapHint",Firebase:"Firebase"}],CrazyHotMapTile:[function(t,e,i){"use strict";cc._RF.push(e,"e43dev8p6ZJk4jPv71Z1IP/","CrazyHotMapTile"),cc.Class({extends:cc.Component,properties:{CeilingLayout:cc.Node,FloorLayout:cc.Node,WallLayout:cc.Node},onLoad:function(){this._tileLayouts=[this.CeilingLayout,this.FloorLayout,this.WallLayout],this._mapData=[]},setInfo:function(t){this._decodeMapData(t)},_decodeMapData:function(){var o=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0";this._tileLayouts.forEach(function(t){t.getChildren().forEach(function(t){return t.opacity=0})}),t.split("").forEach(function(t){var e=parseInt(t,10),i=Math.floor(e/3),n=e%3;o._tileLayouts[i].getChildren()[n].opacity=255})}}),cc._RF.pop()},{}],DiceManager:[function(t,e,i){"use strict";cc._RF.push(e,"624a8ttAytDwLFBuqPwBgmR","DiceManager"),cc.Class({extends:cc.Component,properties:{Dice:cc.Node,FinghtC:cc.Node,ResultC:cc.Node},onLoad:function(){},start:function(){},_addListener:function(){},_dice:function(t){for(var e=this.node.getChildren(),i=0;i<t;i++){var n=e.find(function(t){return t.name==key})||cc.instantiate(this.Dice);n.name=key,n.active=!0,n.parent=this.node,n.getComponent("Dice").hit()}},_collect:function(){var t=this.node.getChildren().filter(function(t){return!t.active}),e=0;return t.forEach(function(t){return e+=t.getComponent("Dice").collect()}),e},_fight:function(){this.FinghtC.active=!0},_result:function(){this.ResultC.active=!0}}),cc._RF.pop()},{}],Dice:[function(t,e,i){"use strict";cc._RF.push(e,"07de4uXc7lBjL9uq4L/QizX","Dice"),cc.Class({extends:cc.Component,properties:{Hint:cc.Label,Points:[cc.String],Logo:cc.Sprite,Icons:[cc.Graphics]},onLoad:function(){this._base=0,this._value=1,this._record={point:0,icon:null,hint:""},this._list=[]},start:function(){0<this.Icons.length?(this._list=this.Icons,!this.Logo&&cc.error("未設定骰子圖示")):0<this.Points.length?(this._list=this.Points,!this.Hint&&cc.error("未設定骰子文字")):cc.error("未設定骰子"),this.base(1).dice().show()},onEnable:function(){this._init()},onDisable:function(){this._init()},base:function(t){return this._base=t,this},value:function(t){return this._value=t,this},dice:function(){var t=Object.keys(this._list).sort(function(){return.5-Math.random()})[0],e=parseInt(t,10),i=this.Icons?this._list[e]:null;return this._record={point:e,icon:i,hint:t},cc.log(this._record),this},show:function(){return this.Hint?this.Hint.string=this._list[this._record.point]:this.Icons&&cc.log("ok"),this},hit:function(){return this.dice().show(),this._easeBounceOut(this.node,200,.9),this._easeBounceOut(this.Hint.node,120,.5),this},rotate:function(t){return this},lock:function(){},collect:function(){return(this._record.point+this._base)*this._value},_init:function(){this._record={point:0,icon:null,hint:""},this.Hint.string=""},_easeBounceOut:function(t,e,i){t.opacity=e,t.setScale(i,i),t.runAction(cc.spawn(cc.fadeTo(.2,255),cc.scaleTo(.4,1,1).easing(cc.easeBounceOut())))}}),cc._RF.pop()},{}],DoorRoomMap:[function(t,e,i){"use strict";cc._RF.push(e,"f2872mat4RPxZ9pldeOq584","DoorRoomMap");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{Refer:"Boardgame/DoorRoom/",Field:"Field/",Size:50,DoorRoomItem:cc.Node,MyRoom:t("DoorRoom")},onLoad:function(){n.listen(this.Refer+this.Field,this._showMap.bind(this))},_showMap:function(t){var s=this,e=t.success,i=t.data;if(e){var n=this.MyRoom.getPosition(),a=n[0].toString(),r=n[1].toString(),c=this.node.children;Object.keys(i).forEach(function(t,o){t.replace(/tile_(.*)_(.*)/,function(t,e,i){cc.log(e,i);var n=c[o]||cc.instantiate(s.DoorRoomItem);c[o]||(n.name="tile_"+a+"_"+r,n.parent=s.node,n.active=!0,n.setPosition(e*s.Size,i*s.Size),n.getComponent("DoorRoom").load(e,i,1)),n.color=a==e&&r==i?cc.Color.RED:cc.Color.GRAY})})}},clickOnVisible:function(){this.node.active=!this.node.active}}),cc._RF.pop()},{DoorRoom:"DoorRoom",Firebase:"Firebase"}],DoorRoom:[function(t,e,i){"use strict";cc._RF.push(e,"204d34lKERFMLCnP0PS53Nz","DoorRoom");var d=t("Firebase");cc.Class({extends:cc.Component,properties:{Refer:"Boardgame/DoorRoom/",Field:"Field/",GateLayout:cc.Node,FloorLayout:cc.Node,Mask:cc.Node,EscapeValue:5,Dialog:t("HintWindow")},onLoad:function(){this._gates=[],this._standHere=-1,this._standCode="",window.onbeforeunload=this._onbeforeunload.bind(this)},onStart:function(){var e=this;this._uniqueid=NAERT.localStorage.getItem("uniqueid",NAERT.randomUniqueCode()),this.Mask.opacity=255,d.check(this._getTilePath(0,0,1)).then(function(t){t.success?e.load(0,0,1):e.create(0,0,1,[[!0],[!0],[!0],[!0]],[[!1],[!1],[!1],[!1]])})},addListener:function(){NAERT.addListener("NotifyUIControlFlip",this._uiControlFlip.bind(this))},load:function(n,o,s){var a=this;if(Math.abs(n)>this.EscapeValue||Math.abs(o)>this.EscapeValue)return cc.log(n,o,this.EscapeValue),this.Dialog.hint("成功脫逃！"),void this._removePug();this._tempMousedown&&this.FloorLayout&&this.FloorLayout.getChildren().forEach(function(t,e){return t.off(cc.Node.EventType.TOUCH_START,a._tempMousedown[e])}),this.Mask.opacity=255,d.check(this._getTilePath(n,o,s)).then(function(t){var e=t.success,i=t.data;e?a._showRoom(i):a.create(n,o,s,a._randomGates(),a._randomTraps())}),this._axisX=n,this._axisY=o},create:function(o,s,a,r,c){var h=this,u=0;[[o,s+1],[o-1,s],[o,s-1],[o+1,s]].forEach(function(t,n){d.check(h._getTilePath(t[0],t[1],a)).then(function(t){var e=t.success,i=t.data;e&&(r[n]=i[(n+2)%4]),4==++u&&(d.refresh(h._getTilePath(o,s,a),r.concat(c)),h._showRoom(r.concat(c)))})}),this._axisX=o,this._axisY=s},getTilesPostion:function(t){return t<4?this.GateLayout.children[t].position:this.FloorLayout.children[t%4].position},getPosition:function(){return cc.log(this._axisX,this._axisY),[this._axisX,this._axisY]},notify:function(){this.Dialog.hint("抓到了！")},_showRoom:function(t){var e=this;this._showGates(t.splice(0,4)),this._showTraps(t),this.Mask.runAction(cc.fadeTo(.3,0)),-1<this._standHere&&d.record(this._getTilePath(this._axisX,this._axisY,1)+"/"+this._standHere+"/1/",this._uniqueid).then(function(t){return e._standCode=t})},_showGates:function(i){cc.log("門",i),this.GateLayout.getChildren().forEach(function(t,e){return t.active=i[e][0]}),this._gates=i},_showTraps:function(i){var n=this;cc.log("陷阱",i),this._tempMousedown=[],this.FloorLayout&&this.FloorLayout.getChildren().forEach(function(t,e){i[e][0]?(t.color=cc.Color.BLACK,n._tempMousedown.push(n.clickOnTrap.bind(n,e))):(t.color=cc.Color.WHITE,n._tempMousedown.push(n.clickOnFloor.bind(n,e))),t.on(cc.Node.EventType.TOUCH_START,n._tempMousedown[e])})},_randomGates:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4;return new Array(t).fill(!1).map(function(t){return[.5<Math.random()]})},_randomTraps:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4;return new Array(t).fill(!1).map(function(t){return[.8<Math.random()]})},_getTilePath:function(t,e,i){return this.Refer+this.Field+this._tileName(t,e,i)},_tileName:function(t,e,i){return"tile_"+t*i+"_"+e*i},_onMove:function(t){if(cc.log(this._gates),this._gates[t][0]&&!this._isTraped){switch(this._removePug(),t){case UIEnum.Flip.UP:this._axisY++;break;case UIEnum.Flip.LEFT:this._axisX--;break;case UIEnum.Flip.DOWN:this._axisY--;break;case UIEnum.Flip.RIGHT:this._axisX++}this._standHere=(t+2)%4,this.load(this._axisX,this._axisY,1),NAERT.dispatchCustomEvent("NotifyDoorRoomMoved",this._getTilePath(this._axisX,this._axisY,1),this)}else this._isTraped=!1},_uiControlFlip:function(t){this._onMove(t.detail)},_moveIn:function(){},_pugMoving:function(t){this._removePug(),this._standHere=t+4,this._addPug()},_addPug:function(){var e=this;d.record(this._getTilePath(this._axisX,this._axisY,1)+"/"+this._standHere+"/1/",this._uniqueid).then(function(t){return e._standCode=t})},_removePug:function(){-1<this._standHere&&d.destroy(this._getTilePath(this._axisX,this._axisY,1)+"/"+this._standHere+"/1/"+this._standCode)},_removeTrap:function(t){var e=this;d.refresh(this._getTilePath(this._axisX,this._axisY,1)+"/"+(t+4)+"/0",!1).then(function(t){return t&&e.load(e._axisX,e._axisY,1)})},_onbeforeunload:function(){this._removePug()},clickOnMove:function(t,e){this._onMove(parseInt(e,10))},clickOnFloor:function(t){cc.log(t),this._pugMoving(t)},clickOnTrap:function(t){this._isTraped=!0,this._pugMoving(t),this.Dialog.trap(t),this._removeTrap(t)}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow"}],EditMapHint:[function(t,e,i){"use strict";cc._RF.push(e,"631e1qGnihKtb8oNAwn1eLI","EditMapHint");var s=t("Firebase");cc.Class({extends:cc.Component,properties:{Prefode:cc.Node,LayerLibray:cc.Node,CeilingLayout:cc.Node,FloorLayout:cc.Node,WallLayout:cc.Node,OrganLayout:cc.Node},onLoad:function(){this._tileLayouts=[this.CeilingLayout,this.FloorLayout,this.WallLayout],this._mapData=[],this._targetTile=null,this._refMapData="",this.node.active=!1},open:function(t,n,o){cc.log(t),this._targetTile=t,this._refMapData="CrazyHot99/map/"+n+"/"+o,s.check(this._refMapData,function(t){var e=t.success,i=t.data;t.num;cc.log(e,n,o),e&&(this.node.active=!0,this._decodeMapData(i))}.bind(this))},addNewLayer:function(t){var e=cc.instantiate(this.Prefode);e.active=!0,e.parent=this.LayerLibray},changeTileType:function(){cc.log("換type")},_codeMapData:function(){var e=[];this._tileLayouts.forEach(function(t){t.getChildren().forEach(function(t){if(t.opacity)switch(t.name){case"ceiling":e.push(t.getSiblingIndex());break;case"floor":e.push(3+t.getSiblingIndex());break;case"wall":e.push(6+t.getSiblingIndex())}})});var t=e.join("");cc.log(this._refMapData,e.join("")),s.refresh(this._refMapData,t),this._targetTile.getComponent("CrazyHotMapTile").setInfo(t)},_decodeMapData:function(){var o=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0";this._tileLayouts.forEach(function(t){t.getChildren().forEach(function(t){return t.opacity=0})}),this.OrganLayout.getChildren().forEach(function(t){return t.active=!1}),t.split("").forEach(function(t){var e=parseInt(t,10),i=Math.floor(e/3),n=e%3;o._tileLayouts[i].getChildren()[n].opacity=255})},clickOnVisible:function(t){var e=t.target;e.opacity=(e.opacity+255)%510},clickOnSaveData:function(){this._codeMapData()},clickOnClose:function(){this.node.active=!1},clickToLink:function(){}}),cc._RF.pop()},{Firebase:"Firebase"}],EventButton:[function(t,e,i){"use strict";cc._RF.push(e,"57ab52fAH5JS7QOjY3Yweh/","EventButton"),cc.Class({extends:cc.Component,properties:{Hint:cc.Label},setInfo:function(t){this.Hint.string=t.hint,this._callback=t.cb,this._closeDialog=t.close},onClick:function(){this._callback&&this._callback(),this._closeDialog()}}),cc._RF.pop()},{}],EventDestroy:[function(t,e,i){"use strict";cc._RF.push(e,"21e3cKkVExJ/4G67CDwuL7T","EventDestroy"),cc.Class({extends:cc.Component,addEventParam:function(t){this._registeredEventArray||(this._registeredEventArray=[]),this._registeredEventArray.push(t)},onDestroy:function(){this._registeredEventArray&&this._registeredEventArray.forEach(function(t){NAERT.removeCustomEvent(t.name,t.func,t.target)})}}),cc._RF.pop()},{}],EventHover:[function(t,e,i){"use strict";cc._RF.push(e,"0a1e9AOVs5Nm6uHS2qvPwUm","EventHover"),cc.Class({extends:cc.Component,properties:{hoverEvents:[cc.Component.EventHandler]},onLoad:function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onRollOver,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onRollOut,this)},_onRollOver:function(){if(!this._hovered){this._hovered=!0;var t=new cc.Event.EventCustom;t.detail={isHoverd:this._hovered},t.target=this.node,cc.Component.EventHandler.emitEvents(this.hoverEvents,t)}},_onRollOut:function(){if(this._hovered){this._hovered=!1;var t=new cc.Event.EventCustom;t.detail={isHoverd:this._hovered},t.target=this.node,cc.Component.EventHandler.emitEvents(this.hoverEvents,t)}}}),cc._RF.pop()},{}],Firebase:[function(t,e,i){"use strict";cc._RF.push(e,"3dc9aUra2pDNamNFdy0QVs9","Firebase");var n=null,o=[],s=function(){var t=new Promise(function(t){n?t(n):o.push({resolve:t})});return 1==o.length&&cc.loader.load("https://www.gstatic.com/firebasejs/4.2.0/firebase.js",function(t){if(t)return console.log("firebase error: "+t);n=firebase.initializeApp({apiKey:"AIzaSyAc5PRwmE14gBH5az8TSoqs9aBrQ8YWa4o",authDomain:"fir-test-756e1.firebaseapp.com",databaseURL:"https://fir-test-756e1.firebaseio.com",projectId:"fir-test-756e1",storageBucket:"fir-test-756e1.appspot.com",messagingSenderId:"182531440628"}).database(),o.forEach(function(t){t.resolve(n)}),o.length=0}),t};e.exports={getUID:function(){return 0},record:function(i,n){return new Promise(function(e,t){i?s().then(function(t){e(t.ref(i).push(n).getKey())}):t("none_ref")})},refresh:function(i,n){return new Promise(function(e,t){i?s().then(function(t){t.ref(i).set(n,function(t){e(null==t)})}):t("none ref")})},destroy:function(e){e?s().then(function(t){t.ref(e).remove()}):cc.error("none ref")},remind:function(e,i){e?s().then(function(t){t.ref(e).set(i),t.ref(e).remove()}):cc.error("none ref")},listen:function(e,n){s().then(function(t){t.ref(e).on("value",function(t){var e=t.val(),i=t.numChildren();n(null!=e?{success:!0,data:e,num:i}:{success:!1})})})},check:function(e){return new Promise(function(n){s().then(function(t){t.ref(e).once("value",function(t){var e=t.val(),i=t.numChildren();n(null!=e?{success:!0,data:e,num:i}:{success:!1})})})})},remove:function(e){s().then(function(t){t.ref(e).off()})}},cc._RF.pop()},{}],FlipData:[function(t,e,i){"use strict";cc._RF.push(e,"cb552pv7sJIDJGAw+/ggmwt","FlipData");var s=t("Firebase"),a="default_name",r="",c="",h={},n=-1,o=function(t){return h&&h[t]&&h[t].menu||[]},u=function(t){var e=o(c);return e&&e[t]&&e[t].link||0};e.exports={setDataName:function(t){return a=t},check:function(n){s.check(a,function(t){var e=t.success,i=t.data;e&&!c&&(c=Object.keys(i)[0]),n&&n(e)})},request:function(i){var t=a+"/"+c;s.check(t,function(t){var e=t.data;return i&&i(h[c]=e)})},flip:function(t){var e=u(t);return n=t,!!e&&(c=e,!0)},addField:function(t){var e={title:t};r=c,c=s.record(a,e),h[c]=e},linkButtonBack:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;if(r){cc.log("back index:",t,c);var e=a+"/"+c,i=o(r),n={hint:h[r].title,link:r};-1<t?i[t]=n:i.push(n),cc.log("back menu:",i),s.refresh(e+"/menu",i)}else cc.log("無前一頁設定")},linkButtonCurrent:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;if(r){cc.log("curr index:",e,r,t);var i=a+"/"+r,n=[],o={hint:t||h[c].title,link:c};-1<e?n[e]=o:n.push(o),s.refresh(i+"/menu",n)}else cc.log("無前一頁設定")},getUniqneid:function(t){return c},setUniqneid:function(t){return c=t},getFlipIndex:function(t){return n},bookmark:function(t,e){var i=a+"/bookmark/"+t;s.refresh(i,e)},getItem:function(t,o){var e=a+"/"+t;s.check(e,function(t){var e=t.success,i=t.data,n=t.num;return e&&o&&o(i,n)})},addItem:function(t,e){var i=a+"/"+c+"/list";s.record(i,e)},removeItem:function(t){var e=a+"/"+c+"/list/"+t;s.destroy(e)}},cc._RF.pop()},{Firebase:"Firebase"}],FlipManager:[function(t,e,i){"use strict";cc._RF.push(e,"dbc9a754P9BVLPWT+Eu55Mt","FlipManager");var n=t("FlipData");cc.Class({extends:cc.Component,properties:{DataName:"DefaultDataName",NormalNode:cc.Node,EditNode:cc.Node,EditMode:!1},onLoad:function(){n.setDataName(this.DataName),this.EditNode.active=!1,this.NormalNode.active=!1},start:function(){n.check(function(t){cc.log("success: ",t),this.NormalNode.active=t,this.EditNode.active=!t}.bind(this)),this._addListener()},_addListener:function(){NAERT.addListener("NotifyUIControlFlip",this._eventControlFlip.bind(this),this),NAERT.addListener("NotifyUIEditDone",this._eventEditDone.bind(this),this)},_eventControlFlip:function(t){var e=t.detail,i=n.flip(e);this.EditMode&&!i?this.EditNode.active=!0:(this.NormalNode.active=!i,this.NormalNode.active=!0)},_eventEditDone:function(t){this.NormalNode.active=!0}}),cc._RF.pop()},{FlipData:"FlipData"}],FlipUIEditor:[function(t,e,i){"use strict";cc._RF.push(e,"2ec28QN5d9I0In4WwaWhu1Z","FlipUIEditor"),cc.Class({extends:cc.Component,properties:{Dialog:t("FlipUIHint")},onLoad:function(){},onEnable:function(){this.Dialog.new()},clickLink:function(t,e){cc.log(e),this.Dialog.link(e)}}),cc._RF.pop()},{FlipUIHint:"FlipUIHint"}],FlipUIHint:[function(t,e,i){"use strict";cc._RF.push(e,"66f63NeyttF/aMPjBzsbbf+","FlipUIHint");var n=t("FlipData");cc.Class({extends:t("HintWindow"),properties:{HintEditBox:cc.EditBox},new:function(){this.hint("button name / panel title"),this.button("Add",this._createNewFeildClick.bind(this)),this.button("Cancel",this.hide.bind(this))},link:function(t){this.hint("panel link"),this.button("Link",this._linkExistedFeildClick.bind(this,t)),this.button("Cancel",this.hide.bind(this))},_notify:function(t,e){this.hide(),e&&NAERT.dispatchCustomEvent(e,!0,this)},_createNewFeildClick:function(t){var e=this.HintEditBox.string,i=n.getFlipIndex();n.addField(e),n.linkButtonCurrent(e,i),n.linkButtonBack((i+2)%4),cc.log("flipIndex: ",i,(i+2)%4),cc.log("this.HintEditBox.string",this.HintEditBox.string),this._notify(t,"NotifyUIEditDone")},_linkExistedFeildClick:function(t,e){var i=this.HintEditBox.string;e=n.getFlipIndex();n.setCurUniqneid(i),n.linkButtonCurrent("",e),n.linkButtonBack((e+2)%4),this._notify(t,"NotifyUIEditDone")}}),cc._RF.pop()},{FlipData:"FlipData",HintWindow:"HintWindow"}],FlipUIPage:[function(t,e,i){"use strict";cc._RF.push(e,"94a87i5B25LXYV+DtkvD4q1","FlipUIPage");var a=t("FlipData");cc.Class({extends:cc.Component,properties:{Menu:cc.Node,Button:cc.Node,Panel:cc.Node,Hint:cc.Label},onEnable:function(){var o=this,s=this.Menu.getChildren();s.forEach(function(t){return t.active=!1}),a.request(function(n){cc.log("data:",n),n.menu&&Object.keys(n.menu).forEach(function(t){var e=n.menu[t],i=s[t]||new cc.instantiate(o.Button);i.parent=o.Menu,i.active=!!e,i.active&&(o._setButtonEvent(i,"_flipClick",t),i.getChildren(cc.Label)[0].getComponent(cc.Label).string=e.hint)}),o.Hint.string=n.title,o.Panel.name=a.getUniqneid(),o.Panel.active=!0}),this._tween(this.node,1)},onDisable:function(){this.Menu.getChildren().forEach(function(t){return t.active=!1}),this.Panel.name="",this.Panel.active=!1,this.node.position=cc.v2(0,0)},_tween:function(t,e){t.opacity=200,t.scaleX=t.scaleY=e-.1,t.runAction(cc.spawn(cc.scaleTo(.15,e,e).easing(cc.easeBackOut()),cc.fadeTo(.3,255)))},_flipClick:function(t,e){NAERT.dispatchCustomEvent("NotifyUIControlFlip",e,this)},_setButtonEvent:function(t,e,i){(t.getComponent(cc.Button)||t.addComponent(cc.Button)).clickEvents.push(this._eventHandlerClick(e,i))},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component=className,i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{FlipData:"FlipData"}],FlockDialog:[function(t,e,i){"use strict";cc._RF.push(e,"8714ejv4klIPaN3EbSGFA5A","FlockDialog"),cc.Class({extends:t("HintWindow"),properties:{EditBox:cc.EditBox},placeholder:function(t){this.EditBox.node.active=!0,this.EditBox.placeholder=t},close:function(){this.unschedule(this.close),this.Hint.string="",this.EditBox.node.active=!1,this.node.active=!1},login:function(t){this.hint("Name and choose your camp!"),this.placeholder(t),this.button("Yellow",this._login.bind(this,cc.Color.YELLOW)),this.button("Blue",this._login.bind(this,cc.Color.BLUE)),this.button("Green",this._login.bind(this,cc.Color.GREEN)),this.button("Red",this._login.bind(this,cc.Color.RED)),this.button("White",this._login.bind(this,cc.Color.WHITE))},createRoom:function(t){this.hint("Room name:"),this.button("Create",this._createRoom.bind(this)),this.button("Cancel",this._back.bind(this)),this.placeholder(t)},_login:function(t){NAERT.dispatchCustomEvent("NotifyPlayerLogin",{name:this._getInputData(),color:t},this),this.hide()},_createRoom:function(){NAERT.dispatchCustomEvent("NotifyCreateNewRoom",this._getInputData(),this),this.hide()},_back:function(){NAERT.dispatchCustomEvent("NotifyLobbyRoom",null,this),this.hide()},_getInputData:function(){var t=this.EditBox.string.length?this.EditBox.string:this.EditBox.placeholder;return this.EditBox.string="",t}}),cc._RF.pop()},{HintWindow:"HintWindow"}],FlockMain:[function(t,e,i){"use strict";cc._RF.push(e,"1b658BguBRLoJ65zrOiEyPK","FlockMain");var a=t("Firebase");cc.Class({extends:cc.Component,properties:{RefName:"BoardGame/Flock/",Lobby:t("Lobby"),Game:t("FlockMapEditor"),Grid:t("Grid"),Dialog:t("HintWindow")},onLoad:function(){this._refGameCode="uniqneid",this._uniqneid="uniqneid",this._playerName="name",this._color=cc.Color.WHITE,this._isMaster=!1,this._memberTotal=0,this._playerIdList=[],this._curPlayerIndex=0,NAERT.addListener("NotifyPlayerLogin",this._register.bind(this),this),window.onbeforeunload=this._onbeforeunload.bind(this)},start:function(){this.Dialog.login(NAERT.localStorage.getItem("nickname","路人"+Math.floor(1e4*Math.random())))},_register:function(t){var e=t.detail;this._playerName=e.name,this._color=e.color,NAERT.localStorage.setItem("nickname",this._playerName),this.Lobby.room(this.RefName,this._playerName).limit(1,5).roomList(),NAERT.addListener("NotifyGuideGame",this._guideGame.bind(this),this),NAERT.addListener("NotifyTurnPlayer",this._turnPlayer.bind(this),this),NAERT.addListener("NotifyResultGame",this._resultGame.bind(this),this)},_guideGame:function(t){var o=this,s=t.detail;this._refGameCode=this.RefName+s.gameCode+"/",this._uniqneid=a.record(this._refGameCode+"players/",{name:this._playerName,camp:NAERT.color.rgbToHex(this._color)}),this._playerIdList=[],this._curPlayerIndex=0,a.listen(this._refGameCode+"players/",function(t){var e=t.success,i=t.data,n=t.num;e&&(cc.log("滿員才開:",n,"/",s.count),n==s.count?(a.remove(o._refGameCode+"players/"),o._isMaster=o.Lobby.isMaster(),o._memberTotal=n,o._playerIdList=Object.keys(i),o.Lobby.node.active=!1,o._isMaster&&a.destroy(o.RefName+"/game/"+s.gameCode),o._joinGame()):n>s.count&&(cc.error(n,"大於",s.count,"資料壞掉"),a.remove(o._refGameCode+"players/")))})},_joinGame:function(){this.Game.addToStage(this._refGameCode+"maps/"),this.Game.setColor(this._color),this._isMaster&&this._turnPlayer(),a.listen(this._refGameCode+"win/",this._gameWinner.bind(this)),a.listen(this._refGameCode+"turn/",this._gameTurn.bind(this))},_turnPlayer:function(){this._turnFlag||(this._turnFlag=!0,cc.log("輪到",this._curPlayerIndex),a.refresh(this._refGameCode+"turn/",this._curPlayerIndex))},_gameTurn:function(t){var o=this,e=t.success,i=t.data;if(e){this.Game.pause();var s=this._playerIdList[i];this._curPlayerIndex=(i+1)%this._memberTotal,a.check(this._refGameCode+"players/"+s,function(t){var e=t.success,i=t.data;if(e){if(o._winFlag)return;o.Grid.strokeColor=NAERT.color.hexToRGB(i.camp),o.Grid.visible=!0;var n=s!=o._uniqneid?i.name:"你";s==o._uniqneid&&o.Game.resume(),o.Dialog.hint("輪到"+n+"了"),o.Dialog.interval(1),o._turnFlag=!1}else o.Dialog.hint("輪到第"+i+"號玩家時發生錯誤。(代碼:"+s+")")})}},_gameWinner:function(t){var e=t.success,i=t.data;e&&(a.remove(this._refGameCode+"win/"),a.remove(this._refGameCode+"turn/"),this.Game.pause(),this._finishGame(i))},_resultGame:function(t){this._winFlag||NAERT.color.rgbToHex(this._color)!=t.detail||(this._winFlag=!0,this.Game.pause(),a.remind(this._refGameCode+"win/",this._playerName)),cc.log("result game!!!!",this._winFlag)},_finishGame:function(t){cc.log("finish",t),this.Dialog.hint(t+" 贏了！"),this.Dialog.button("OK",this._reloadwebsite.bind(this))},_onbeforeunload:function(){a.destroy(this._refGameCode+"players/"+this._uniqneid),this._isMaster&&(a.destroy(this._refGameCode+"win/"),a.destroy(this._refGameCode+"turn/"),a.destroy(this._refGameCode+"maps/"))},_reloadwebsite:function(){window.location.reload()}}),cc._RF.pop()},{Firebase:"Firebase",FlockMapEditor:"FlockMapEditor",Grid:"Grid",HintWindow:"HintWindow",Lobby:"Lobby"}],FlockMapEditor:[function(t,e,i){"use strict";cc._RF.push(e,"fc6adD5wSxOXJKSerR6N6HI","FlockMapEditor");var r=t("Firebase");cc.Class({extends:cc.Component,editor:!1,properties:{Grid:t("Grid"),Tile:cc.Node},onLoad:function(){var t=cc.director.getScene().getChildren()[0];this._colorHex=cc.Color.GREEN,this.node.setContentSize(t.width,t.height),this.node.setPosition(.5*-t.width,.5*-t.height),this.active=!1},addToStage:function(t){!this._refMapsPath&&r.listen(t,this._mapEditor.bind(this)),this._refMapsPath=t},setColor:function(t){this._colorHex=NAERT.color.rgbToHex(t)},resume:function(){this._myTurn=!0,this.node.on(cc.Node.EventType.TOUCH_START,this._onPress,this)},pause:function(){this._myTurn=!1,this.node.off(cc.Node.EventType.TOUCH_START,this._onPress,this)},_onPress:function(t){this._flock(t.touch.getLocation(),1)},_flock:function(t,e){var i=this.Grid.size,n=Math.floor(t.x/i)*i,o=Math.floor(t.y/i)*i,s="tile_"+n+"_"+o;if(!(n<0||n>this.node.width||o<0||o>this.node.height)){var a=this.node.getChildren().some(function(t){return t.name==s});r.refresh(this._refMapsPath+s,{x:n,y:o,flock:!a,camp:this._colorHex}),a&&0<e&&(e--,this._flock(cc.v2(t.x+i,t.y),e),this._flock(cc.v2(t.x,t.y+i),e),this._flock(cc.v2(t.x,t.y-i),e),this._flock(cc.v2(t.x-i,t.y),e))}},_mapEditor:function(t){var r=this,e=t.success,c=t.data;if(e){var h=this.node.getChildren(),u=0;Object.keys(c).forEach(function(t){var e=c[t],i=e.x,n=e.y,o="tile_"+i+"_"+n,s=h.find(function(t){return t.name==o});if(e.flock){var a=s||cc.instantiate(r.Tile);a.setPosition(i,n),a.name=o,a.parent=r.node,a.color=e.camp?NAERT.color.hexToRGB(e.camp):cc.Color.GREEN,e.camp==r._colorHex&&u++}else s&&s.destroy()}),cc.log("已取得",u,"塊領地, _myTurn",this._myTurn),this._myTurn&&(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){u<10?NAERT.dispatchCustomEvent("NotifyTurnPlayer"):NAERT.dispatchCustomEvent("NotifyResultGame",r._colorHex)},.1))}}}),cc._RF.pop()},{Firebase:"Firebase",Grid:"Grid"}],Follower:[function(t,e,i){"use strict";cc._RF.push(e,"b41a9YOY6BIqZXq2+0/mEAQ","Follower");var n=t("Throw");cc.Class({extends:cc.Component,properties:{Target:cc.Node,Delay:0,Duration:0,Speed:20},onLoad:function(){this._currentCallback=null,this._completeCallback=null,this._followPosition=null},start:function(){this.Target&&this.nodeTarget(this.Target)},onDisable:function(){this._followFinish()},update:function(t){this._followPosition&&this._followPosition()},speed:function(t){return this.Speed=t,this},delay:function(t){return this.Delay=t,this.Duration&&(this.Duration+=t),this},duration:function(t){return this.Duration=t,this},faceTo:function(t){return this.node.rotation=n.angle(this.node.position,t.position),this},onCurrent:function(t){return this._currentCallback=t,this},onComplete:function(t){return this._completeCallback=t,this},nodeTarget:function(o){var t=this,s=Math.round(1/this.Speed*1e4)/1e4;this.scheduleOnce(function(){t._followPosition=function(){var t=this.node.position.x,e=this.node.position.y,i=(o.position.x-t)*s,n=(o.position.y-e)*s;this.node.setPosition(t+i,e+n),Math.abs(i)+Math.abs(n)<.01?this._followFinish():this._currentCallback&&this._currentCallback(this.node)},t.Duration&&t.scheduleOnce(t._followFinish.bind(t),t.Duration)},this.Delay)},virtualTarget:function(o){var s=Math.round(1/this.Speed*1e4)/1e4;this._enabledCount=4*this.Speed,this._followPosition=function(){var t=this.node.position.x,e=this.node.position.y,i=(o.x-t)*s,n=(o.y-e)*s;this.node.setPosition(t+i,e+n),Math.abs(i)+Math.abs(n)<.01?this._followFinish():this._currentCallback&&this._currentCallback(this.node)},this.Duration&&this.scheduleOnce(this._followFinish.bind(this),this.Duration)},_followFinish:function(){this._completeCallback&&this._completeCallback(),this._followPosition=null,this.Delay=0,this.Duration=0}}),cc._RF.pop()},{Throw:"Throw"}],GameMainTest:[function(t,e,i){"use strict";cc._RF.push(e,"dfb00vGkDtMHZVqcA4fj33r","GameMainTest"),cc.Class({extends:t("GameMain"),properties:{},onLoad:function(){this._refGameCode="ref/",this._refGamePlayers="ref/",this._playerCode="uniqneid",this._playerInfo={}},_joinGame:function(t,e,i,n,o){this._refGameCode=t,this._refGamePlayers=e,this._playerInfo=i,this._playerCode=i.code,this._refGameSelf=e+this._playerCode,cc.log(i)}}),cc._RF.pop()},{GameMain:"GameMain"}],GameMain:[function(t,e,i){"use strict";cc._RF.push(e,"f554e876T5CErzt5250ZXSj","GameMain");var c=t("Firebase");cc.Class({extends:cc.Component,properties:{RefName:"TypeName/GameName/",DefaultNick:"路人",Lobby:t("Lobby"),Dialog:t("CommonHint"),TipLabel:cc.Label,Maximum:10,Minimum:1},start:function(){this.Dialog.login(NAERT.localStorage.getItem("nickname",this.DefaultNick+Math.floor(1e4*Math.random()))),NAERT.addListener("NotifyPlayerLogin",this._register.bind(this),this),NAERT.addListener("NotifyGuideGame",this._guideGame.bind(this),this)},_register:function(t){var e=t.detail;NAERT.localStorage.setItem("nickname",e),this.Lobby.room(this.RefName,e).limit(this.Minimum,this.Maximum).roomList(),window.onbeforeunload=function(){this._quitGame(),this.Lobby.abortRoom()}.bind(this)},_guideGame:function(t){var n=this,o=t.detail,s=this.RefName+"game/"+o.gameCode+"/",a=s+"players/",r=c.record(a,this._playerInfo);c.listen(a,function(t){var e=t.success,i=t.num;e&&(i==o.count?(c.remove(a),n._joinGame(s,a,r,i,n.Lobby.isMaster()),n.Lobby.node.active=!1,n.TipLabel.string=""):i>o.count?(c.remove(a),cc.error(i,"大於",o.count,"資料壞掉"),n.TipLabel.string="資料庫錯誤"):n.TipLabel.string=i+"/"+o.count)})},_fullScreen:function(){cc.screen.fullScreen()?cc.screen.exitFullScreen():cc.screen.requestFullScreen()},_joinGame:function(t,e,i,n,o){},_quitGame:function(){}}),cc._RF.pop()},{CommonHint:"CommonHint",Firebase:"Firebase",Lobby:"Lobby"}],GatesTile:[function(t,e,i){"use strict";cc._RF.push(e,"4ec83LjR99NJbQ70JRhBf9H","GatesTile");var d=t("Firebase");cc.Class({extends:cc.Component,properties:{Refer:"Boardgame/GatesTile/",Field:"Field/",PixelTile:cc.Node},onLoad:function(){this._beStay=!1},onStart:function(){var e=this;this._uniqueid=NAERT.localStorage.getItem("uniqueid",NAERT.randomUniqueCode()),this.Mask.opacity=255,d.check(this._getTilePath(0,0,1)).then(function(t){t.success?e.load(0,0,1):e.create(0,0,1,["1","1","1","1"],[[!1],[!1],[!1],[!1]])})},addListener:function(){NAERT.addListener("NotifyUIControlFlip",this._uiControlFlip.bind(this))},pass:function(t,e){return(Math.abs(t)>this.EscapeValue||Math.abs(e)>this.EscapeValue)&&(this.Dialog.hint("成功脫逃！"),d.destroy(this._getTilePath(t,e,floors)+"object/"+this._standCode),!0)},load:function(n,o){var s=this;this._tempMousedown&&this.FloorLayout&&this.FloorLayout.getChildren().forEach(function(t,e){return t.off(cc.Node.EventType.TOUCH_START,s._tempMousedown[e])}),this.pass(n,o)||(this.Mask.opacity=255,d.check(this._getTilePath(n,o)).then(function(t){var e=t.success,i=t.data;e?s._showTile(i):s.create(n,o,s._randomGates(),s._randomTraps())}),this._axisX=n,this._axisY=o)},create:function(o,s,a,c){var h=this,u=0;[[o,s+1],[o-1,s],[o,s-1],[o+1,s]].forEach(function(t,n){d.check(h._getTilePath(t[0],t[1],r)).then(function(t){var e=t.success,i=t.data;e&&(a[n]=i[(n+2)%4]),4==++u&&(d.refresh(h._getTilePath(o,s,r),a.concat(c)),h._showRoom(a.concat(c)))})}),this._axisX=o,this._axisY=s},_showTile:function(t){this._showGates(t.gates),this._showFloors(t.floors),this.Mask.runAction(cc.fadeTo(.3,0))},_showGates:function(t){this._gates=t},_showFloors:function(t){var i=this;this._tempMousedown=[],this.FloorLayout&&this.FloorLayout.getChildren().forEach(function(t,e){i._tempMousedown.push(i._dispatchMoving.bind(i,e)),t.on(cc.Node.EventType.TOUCH_START,i._tempMousedown[e])})},_getTilePath:function(t,e,i){var n=this.Refer+this.Field+this._tileName(t,e)+"/";return i?n+i+"/"+this._stayFloorIndex+"/":n},_tileName:function(t,e){return"tile_"+t+"_"+e},_uiControlFlip:function(t){this._onMove(t.detail)},_onMove:function(t){if(this._gates[t][0]&&!this._beStay){switch(this._removePug(),t){case UIEnum.Flip.UP:this._axisY++;break;case UIEnum.Flip.LEFT:this._axisX--;break;case UIEnum.Flip.DOWN:this._axisY--;break;case UIEnum.Flip.RIGHT:this._axisX++}this._stayFloorIndex=(t+2)%4,this.load(this._axisX,this._axisY,1),NAERT.dispatchCustomEvent("NotifyDoorRoomMoved",this._getTilePath(this._axisX,this._axisY,1),this)}else this._beStay=!1},_dispatchMoving:function(t){NAERT.dispatchCustomEvent("NotifyFloorsMoved",t,this)}}),cc._RF.pop()},{Firebase:"Firebase"}],GiftCards:[function(t,e,i){"use strict";cc._RF.push(e,"9424ezBRF9CzKcVxJ2fHtSC","GiftCards");var s=t("Firebase");cc.Class({extends:cc.Component,properties:{FieldCard:cc.Node,HandCardLayout:cc.Node,HandCard:cc.Node,FieldCardLabel:cc.Label},onLoad:function(){this._refLibary="GiftCardsDefaultFieldLibary/",this._refField="GiftCardsDefaultFieldField/",this._refPlayers="GiftCardsDefaultPlayers/",this._playerCode="uniqneid",this._libary=[],this._handCards=[]},cards:function(t,e){return this._refPlayers=t+"/table/players/",this._refLibary=t+"/cards/libary/",this._refField=t+"/cards/field/",this._refGift=t+"/table/gift/",this._libary=[],this._handCards=[],this._playerCode=e,this},create:function(t,e){for(var i=t;i<=e;i++)this._libary.push(i);return this},shuffle:function(){return this._libary.sort(function(){return.5-Math.random()}),this},remove:function(t){return this._libary.splice(0,t),this},saveLibary:function(){return s.refresh(this._refLibary,this._libary),this._libary=[],this},cleanLibary:function(){return this._handCards=[],s.destroy(this._refLibary),s.destroy(this._refField),this},cleanField:function(){return s.destroy(this._refField),this},drawCard:function(){var o=this;s.check(this._refField,function(t){var e=t.success,i=t.data;if(e){var n=i+1;s.refresh(o._refField,n)}else s.refresh(o._refField,0)})},greeting:function(){this._openHandCardNum(),s.listen(this._refGift,this._receiveGifts.bind(this)),s.listen(this._refField,this._showFieldCard.bind(this))},takeGift:function(){this._handCards.push(this._fieldCard),this._openHandCardNum(),s.remind(this._refGift,this._playerCode)},_receiveGifts:function(t){var e=t.success,i=t.data;if(e){var n=i;cc.log(n,"收禮物")}},_openHandCardNum:function(){s.refresh(this._refPlayers+this._playerCode+"/cardNum",this._handCards.length)},_resultScore:function(){cc.log("牌庫抽完牌了，請大家結算積分"),s.refresh(this._refPlayers+this._playerCode+"/score/card",1234),NAERT.dispatchCustomEvent("NotifyResultScore","data",this)},_showFieldCard:function(t){var n=this,e=t.success,i=t.data;if(e){var o=i;cc.log("抽第",i,"張牌"),o<=23?s.check(this._refLibary+o,function(t){var e=t.success,i=t.data;e?(n._fieldCard=i,cc.log("抽場牌",n._fieldCard),n._flipCard()):n._resultScore()}):this._resultScore()}},_fieldCardBack:function(){this.FieldCardLabel.string=""},_fieldCardFace:function(){this.FieldCardLabel.string=this._fieldCard},_moveFieldCard:function(){},_flipCard:function(t){var e=t.x,i=t.y;t.runAction(cc.sequence(cc.spawn(cc.moveTo(.6,cc.v2(e+50,i+10)).easing(cc.easeBackOut()),cc.scaleTo(.3,.01,1).easing(cc.easeBackOut())),cc.callFunc(this._fieldCardFace.bind(this)),cc.spawn(cc.moveTo(1.2,cc.v2(e+10,i+12)).easing(cc.easeBackOut()),cc.scaleTo(.6,1.1,1.1).easing(cc.easeBackOut())),cc.spawn(cc.moveTo(.1,cc.v2(e,i)),cc.scaleTo(.1,1,1))))},_tweenCard:function(t){var e=this;this.FieldCard.getComponent("Follower").onComplete(function(){return e.FieldCard.active=!1}).virtualTarget(t)}}),cc._RF.pop()},{Firebase:"Firebase"}],GiftPlayers:[function(t,e,i){"use strict";cc._RF.push(e,"a6b55RPlSpPKqUavEZPDyPa","GiftPlayers");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{InfoPlayer:cc.Node,ThePlayer:cc.Node,FieldCoin:cc.Node,Player:cc.Node,Coin:cc.Node,FieldCoinLabel:cc.Label,TakeButton:cc.Node,DropButton:cc.Node},onLoad:function(){this._refPlayers="GiftCardsDefaultName/",this._refTableTurn="GiftCardsDefaultTurn/",this._refTableCoin="GiftCardsDefaultCoin/",this._refTableGift="GiftCardsDefaultGift/",this._refTablePass="GiftCardsDefaultPass/",this._playerCode="uniqneid",this._ownCoin=11,this._tableCoin=0,this._turn=0,this._playerList=[]},players:function(t,e){return this._refPlayers=t+"/table/players/",this._refTableTurn=t+"/table/turn/",this._refTableCoin=t+"/table/coin/",this._refTableGift=t+"/table/gift/",this._refTablePass=t+"/table/pass/",this._playerCode=n.record(this._refPlayers,{name:e,coin:this._ownCoin,cardNum:0}),this.ThePlayer.name=this._playerCode,this},getPlayerCode:function(){return this._playerCode},greeting:function(){n.listen(this._refPlayers,this._playersOnTable.bind(this)),n.listen(this._refTableTurn,this._playerTurn.bind(this)),n.listen(this._refTableCoin,this._coinOnTable.bind(this)),n.listen(this._refTableGift,this._receiveGifts.bind(this)),n.listen(this._refTablePass,this._pushOutCoin.bind(this))},firstTurn:function(){n.refresh(this._refTableTurn,0)},dropCoin:function(){0<this._ownCoin?this._dropCoin(1):this._takeGift(),this._nextOne()},takeGift:function(){this._takeGift(),this._nextOne()},kick:function(){n.destroy(this._refPlayers+this._playerCode)},resultScore:function(){n.refresh(this._refPlayers+this._playerCode+"/score/coin",this._ownCoin)},_openOwnCoinNum:function(){n.refresh(this._refPlayers+"coin",this._ownCoin)},_playersOnTable:function(t){var o=this,s=t.data,a=this.InfoPlayer.getChildren();a.forEach(function(t){return t.active=!1}),this._playerList=[],Object.keys(s).forEach(function(e,t){var i=s[e];if(e!=o._playerCode){var n=a.find(function(t){return t.name==e})||cc.instantiate(o.Player);n.name=e,n.parent=o.InfoPlayer,n.active=!0,n.getComponent("GiftPlayerInfo").setInfo(i)}o._playerList.push(e)}),this._turn>=this._playerList.length&&n.refresh(this._refTableTurn,this._turn%this._playerList.length)},_coinOnTable:function(t){var e=t.data;this._tableCoin=e,this.FieldCoinLabel.string="x"+this._tableCoin},_dropCoin:function(t){n.refresh(this._refTableCoin,this._tableCoin+t),n.remind(this._refTablePass,this._playerCode),this._openOwnCoinNum()},_pushOutCoin:function(t){var e=t.data;this._moveCoin(-num,e)},_takeGift:function(){n.refresh(this._refTableCoin,0),n.remind(this._refTableGift,this._playerCode),this._openOwnCoinNum()},_receiveGifts:function(t){var e=t.data;this._moveCoin(this._tableCoin,e)},_moveCoin:function(t,e){var i=this,n=this.InfoPlayer.getChildren().find(function(t){return t.name==e}),o=this.FieldCoin.getChildren();if(0<t)o.forEach(function(t){if(t.active){var e=i.FieldCoin.convertToNodeSpace(n.position);i._tweenCoin(t,i.FieldCoin.position,e)}});else for(var s=-t,a=0;a<s;a++){var r=o.find(function(t){return 0==t.active})||cc.instantiate(o[0]),c=this.FieldCoin.convertToNodeSpace(n.position);this._tweenCoin(r,c,this.FieldCoin.position)}this._ownCoin+=t},_tweenCoin:function(t,e,i){e&&t.setPosition(e),t.getComponent("Follower").onComplete(function(){return t.active=!1}).virtualTarget(i)},_nextOne:function(){this._turn++,n.refresh(this._refTableTurn,this._turn%this._playerList.length)},_playerTurn:function(t){var e=this,i=t.data,n=this.InfoPlayer.getChildren();n.find(function(t){return t==e._playerList[e._turn]}).color=cc.Color.WHITE,this._turn=i,n.find(function(t){return t==e._playerList[e._turn]}).color=cc.Color.ORANGE,this._playerList[i]==this._playerCode?(this.TakeButton.active=!0,this.DropButton.active=0<this._ownCoin):(this.TakeButton.active=!1,this.DropButton.active=!1)}}),cc._RF.pop()},{Firebase:"Firebase"}],GiftRoommaster:[function(t,e,i){"use strict";cc._RF.push(e,"9f19bMfePZASbg/0mljRA58","GiftRoommaster");var s=t("Firebase");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._drawCards=[]},work:function(t){s.listen(t+"draw",_receiveDraw)},_receiveDraw:function(t){var e=t.success,i=t.data;if(e){var n=i.player_id,o=i.card_index;i.draw_time;s.check(ref,function(){var e=this;Object.keys(i).ever(function(t){"not_draw"==i[t]&&s.refresh(e._refDeal+o,n)})})}}}),cc._RF.pop()},{Firebase:"Firebase"}],GoldCollectHint:[function(t,e,i){"use strict";cc._RF.push(e,"b374ahOrVRMbKYfSrfdyQ8D","GoldCollectHint"),cc.Class({extends:t("HintWindow"),notify:function(t,e){NAERT.dispatchCustomEvent(e,!0,this),this.hide()}}),cc._RF.pop()},{HintWindow:"HintWindow"}],GoldCollection:[function(t,e,i){"use strict";cc._RF.push(e,"abaf9sXeylHNLE24K8YPNKY","GoldCollection");var l=t("Firebase"),f=t("Throw"),_=t("HitArea");cc.Class({extends:cc.Component,properties:{DataName:"cursor/",Cursor:cc.Node,Target:cc.Node,Dialog:t("HintWindow"),Score:cc.Label},onLoad:function(){this._score=0,this._bonusUidList=[],this._bonusMax=5,this._uniqneid="uniqneid",this.Target.active=!1},start:function(){this.scheduleOnce(this._register.bind(this),1),window.onbeforeunload=function(){l.destroy(this.DataName+this._uniqneid)}},_restart:function(){var e=this;this._bonusUidList.forEach(function(t){return e._costBonus(t)}),this._score=0,this._bonusUidList=[],this._setBonus()},_register:function(){this._uniqneid=l.getUID(),l.refresh(this.DataName+this._uniqneid,{type:"player",score:this._score,position:cc.v2(0,0)}),this._addListener()},_addListener:function(){l.listen(this.DataName,this._refreshAllPosition.bind(this)),NAERT.addListener("NotifyControlSlidePosition",this._slideMyPosition.bind(this),this),NAERT.addListener("NotifyGoldCollectRestart",this._restart.bind(this),this)},_refreshAllPosition:function(t){var n=this,d=t.data,o=(d[this._uniqneid].position,this.node.getChildren());o.forEach(function(t){return t.active=!1}),this._dataTemp=d,Object.keys(d).forEach(function(u,t){var e=o.find(function(t){return t.name==u})||cc.instantiate(n.Target);e.name=u,e.active=!0,e.parent=n.node;var i=d[u];switch(i.type){case"bonus":e.color=cc.Color.GREEN,e.setPosition(i.position);break;case"player":e.color=cc.Color.WHITE,e.getComponent("Follower").onCurrent(function(c){var h=this;Object.keys(d).forEach(function(t){var e=d[t],i=e.type,n=e.position;if(t!=h._uniqneid&&h._hitTest(c,n))if("bonus"==i)h._costBonus(t),h._earnScore(10);else if("player"==i&&h._uniqneid==u){var o=.05*_.distance(c,n),s=f.angle(c,n),a=f.prediction(n,s,o,.03),r=f.prediction(c,s+180,o,.03);l.refresh(h.DataName+t+"/position",a),h._slideMyPosition({detail:r}),h.Cursor.setPosition(r)}})}.bind(n)).virtualTarget(i.position)}})},_slideMyPosition:function(t){l.refresh(this.DataName+this._uniqneid+"/position",t.detail)},_setBonus:function(){var e=this;this.schedule(function(){var t=l.record(e.DataName,{type:"bonus",position:cc.v2(1e4*Math.random()%640-320,1e4*Math.random()%960-480)});e._bonusUidList.push(t)},.1,this._bonusMax)},_costBonus:function(t){l.destroy(this.DataName+t)},_earnScore:function(t){this._score+=t,this.Score.string=this._score,l.refresh(this.DataName+this._uniqneid+"/score",this._score)},_isWinning:function(){return this._score>10*this._bonusMax},_winnerHint:function(){this.Dialog.hint(this._score.toString()),this.Dialog.button("Again","notify","NotifyGoldCollectRestart")},_hitTest:function(t,e){var i=Math.abs(t.x-e.x)<=30,n=Math.abs(t.y-e.y)<=30;return i&&n},clickClearAll:function(){var i=this;l.remove(this.DataName);var n=this.node.getChildren();Object.keys(this._dataTemp).forEach(function(e){var t=n.find(function(t){return t.name==e});t.active=!1,t.getChildren()[0].getComponent(cc.Label).string="",l.destroy(i.DataName+e)})}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow",HitArea:"HitArea",Throw:"Throw"}],GoogleLogin:[function(t,e,i){"use strict";cc._RF.push(e,"57049ySsUxMM5WdPZNJRDVg","GoogleLogin");t("Firebase");cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{Firebase:"Firebase"}],GraphicsPainter:[function(t,e,i){"use strict";cc._RF.push(e,"3d2d3NPg+dHD6neHOS+ZXxa","GraphicsPainter"),cc.Class({extends:cc.Graphics,properties:{Dot:cc.Node},onLoad:function(){this._dotList=[],this._selectDot=0,this._hitArea=this.Dot?this.Dot.width:0,this._catchedDot=this.Dot},start:function(){this.node.getChildren().forEach(function(t){return t.active=!1}),this._catchedDot&&this.shap(this.polygonNodes(100,100,4)),this._draw(this.polygonNodes(30,30,4))},shap:function(t){this._draw(t),this._dot(t)},stiffen:function(t){this.node.getChildren().forEach(function(t){return t.active=!1}),t&&t()},_draw:function(t){var i=this;i.clear(),i.moveTo(t[0].x,t[0].y),t.forEach(function(t,e){return!!e&&i.lineTo(t.x,t.y)}),i.close(),i.stroke(),i.fill()},_dot:function(t){var n=this,o=this.node.getChildren();this._dotList=[],t.forEach(function(t,e){var i=o[e]||cc.instantiate(n.Dot);i.active=!0,i.setPosition(t),i.parent=n.node,n._dotList.push(i)})},_hit:function(t,e){var i=Math.abs(t.x-e.x)<=this._hitArea,n=Math.abs(t.y-e.y)<=this._hitArea;return i&&n},onPress:function(e){var i=this;this._catchedDot=this._dotList.find(function(t){return i._hit(i.node.convertToNodeSpace(e),t.position)})},onDrag:function(t,e){if(this._catchedDot){var i=this._catchedDot.position,n=i.x+e.x,o=i.y+e.y;this._catchedDot.setPosition(cc.v2(n,o)),this._draw(this._dotList)}},onRelease:function(){this._catchedDot=null},hoverEvent:function(t){var e=t.detail.isHoverd?2:1;t.target.setScale(e,e)},polygonNodes:function(t,e,i){for(var n=2*Math.PI,o=Math.pow(10,0),s=(.5*t-1)*o,a=[],r=0;r<=n;r+=n/i)a.push({x:Math.round(s*Math.cos(r))/o,y:Math.round(s*Math.sin(r))/o});return Math.abs(a[0].x)-Math.abs(a[a.length-1].x)==0&&Math.abs(a[0].y)-Math.abs(a[a.length-1].y)==0&&(cc.log("delete"),a.pop()),a}}),cc._RF.pop()},{}],GridMapEditor:[function(t,e,i){"use strict";cc._RF.push(e,"113ed23zxxCbqXZB6v/llK4","GridMapEditor");var n=cc.Enum({NONE:-1,BLOCK_UPPER:-1,BLOCK_LEFT:-1,BLOCK_LOWER:-1,BLOCK_RIGHT:-1,BLOCK_SIDE_UL:-1,BLOCK_SIDE_LR:-1,BLOCK_U_UPPER:-1,BLOCK_U_LEFT:-1,BLOCK_U_LOWER:-1,BLOCK_U_RIGHT:-1});cc.Class({extends:cc.Component,statics:{Type:n},properties:{Atlas:cc.Sprite,_type:n.NONE,type:!1}});cc._RF.pop()},{}],Grid:[function(t,e,i){"use strict";cc._RF.push(e,"d5649AHPtVLk4SSz39pBogh","Grid"),cc.Class({extends:cc.Graphics,properties:{size:50,visible:{set:function(t){(this._visible=t)?this._line():this.clear()},get:function(){return this._visible}},_visible:!1},onLoad:function(){this._visible&&this._line(),this.node.setAnchorPoint(0,0)},_line:function(){for(var t,e=this,i=cc.director.getScene().children[0],n=e.size,o=new cc.v2(Math.floor(i.width/n),Math.floor(i.height/n)),s=2*i.x,a=2*i.y,r=0;r<=o.x;r++)t=r*n,e.moveTo(t,0),e.lineTo(t,a);for(var c=0;c<=o.y;c++)t=c*n,e.moveTo(0,t),e.lineTo(s,t);e.stroke()}}),cc._RF.pop()},{}],HeadToHead:[function(t,e,i){"use strict";cc._RF.push(e,"5be72zmJI9HmpK1gTQxJoig","HeadToHead"),cc.Class({extends:cc.Component,properties:{List:[t("CrashNode")],NodeList:[cc.Node]},onLoad:function(){},clickAdd:function(t,e){this.List[e].Length++},clickFight:function(){this.NodeList.forEach(function(t){return t.active=!0})}}),cc._RF.pop()},{CrashNode:"CrashNode"}],HeartDiseaseMain:[function(t,e,i){"use strict";cc._RF.push(e,"0dbc5VowgpCiIVebqkFZ759","HeartDiseaseMain");var a=t("Firebase");cc.Class({extends:cc.Component,properties:{RefName:"BoardGame/HeartDisease/",Lobby:t("Lobby"),Game:t("FlockMapEditor"),Grid:t("Grid"),Dialog:t("HintWindow")},onLoad:function(){this._refGameCode="uniqneid",this._uniqneid="uniqneid",this._playerName="name",this._color=cc.Color.WHITE,this._isMaster=!1,this._memberTotal=0,this._playerIdList=[],this._curPlayerIndex=0,NAERT.addListener("NotifyPlayerLogin",this._register.bind(this),this),window.onbeforeunload=this._onbeforeunload.bind(this)},start:function(){this.Dialog.login(NAERT.localStorage.getItem("nickname","路人"+Math.floor(1e4*Math.random())))},_register:function(t){var e=t.detail;this._playerName=e.name,this._color=e.color,NAERT.localStorage.setItem("nickname",this._playerName),this.Lobby.room(this.RefName,this._playerName).limit(1,5).roomList(),NAERT.addListener("NotifyGuideGame",this._guideGame.bind(this),this),NAERT.addListener("NotifyTurnPlayer",this._turnPlayer.bind(this),this),NAERT.addListener("NotifyResultGame",this._resultGame.bind(this),this)},_guideGame:function(t){var o=this,s=t.detail;this._refGameCode=this.RefName+s.gameCode+"/",this._uniqneid=a.record(this._refGameCode+"players/",{name:this._playerName,camp:NAERT.color.rgbToHex(this._color)}),this._playerIdList=[],this._curPlayerIndex=0,a.listen(this._refGameCode+"players/",function(t){var e=t.success,i=t.data,n=t.num;e&&(cc.log("滿員才開:",n,"/",s.count),n==s.count?(a.remove(o._refGameCode+"players/"),o._isMaster=o.Lobby.isMaster(),o._memberTotal=n,o._playerIdList=Object.keys(i),o.Lobby.node.active=!1,o._isMaster&&a.destroy(o.RefName+"/game/"+s.gameCode),o._joinGame()):n>s.count&&(cc.error(n,"大於",s.count,"資料壞掉"),a.remove(o._refGameCode+"players/")))})},_joinGame:function(){this.Game.addToStage(this._refGameCode+"maps/"),this.Game.setColor(this._color),this._isMaster&&this._turnPlayer(),a.listen(this._refGameCode+"win/",this._gameWinner.bind(this)),a.listen(this._refGameCode+"turn/",this._gameTurn.bind(this))},_turnPlayer:function(){this._turnFlag||(this._turnFlag=!0,cc.log("輪到",this._curPlayerIndex),a.refresh(this._refGameCode+"turn/",this._curPlayerIndex))},_gameTurn:function(t){var o=this,e=t.success,i=t.data;if(e){this.Game.pause();var s=this._playerIdList[i];this._curPlayerIndex=(i+1)%this._memberTotal,a.check(this._refGameCode+"players/"+s,function(t){var e=t.success,i=t.data;if(e){if(o._winFlag)return;o.Grid.strokeColor=NAERT.color.hexToRGB(i.camp),o.Grid.visible=!0;var n=s!=o._uniqneid?i.name:"你";s==o._uniqneid&&o.Game.resume(),o.Dialog.hint("輪到"+n+"了"),o.Dialog.interval(1),o._turnFlag=!1}else o.Dialog.hint("輪到第"+i+"號玩家時發生錯誤。(代碼:"+s+")")})}},_gameWinner:function(t){var e=t.success,i=t.data;e&&(a.remove(this._refGameCode+"win/"),a.remove(this._refGameCode+"turn/"),this.Game.pause(),this._finishGame(i))},_resultGame:function(t){this._winFlag||NAERT.color.rgbToHex(this._color)!=t.detail||(this._winFlag=!0,this.Game.pause(),a.remind(this._refGameCode+"win/",this._playerName)),cc.log("result game!!!!",this._winFlag)},_finishGame:function(t){cc.log("finish",t),this.Dialog.hint(t+" 贏了！"),this.Dialog.button("OK",this._reloadwebsite.bind(this))},_onbeforeunload:function(){a.destroy(this._refGameCode+"players/"+this._uniqneid),this._isMaster&&(a.destroy(this._refGameCode+"win/"),a.destroy(this._refGameCode+"turn/"),a.destroy(this._refGameCode+"maps/"))},_reloadwebsite:function(){window.location.reload()}}),cc._RF.pop()},{Firebase:"Firebase",FlockMapEditor:"FlockMapEditor",Grid:"Grid",HintWindow:"HintWindow",Lobby:"Lobby"}],HeartDisease:[function(t,e,i){"use strict";cc._RF.push(e,"82a991WQahH+bprNFC3VpQB","HeartDisease");t("Firebase");cc.Class({extends:cc.RichText,properties:{RefName:"BoardGame/HeartDisease/"},onLoad:function(){this._cards=[],this._curIndex=-1,this._secInterval=1,this._catchTimes=0,this._countDown({success:!0,data:(new Date).getTime()+3e3}),this.setInterval(1),this.createCards({numberList:["A","2","3"],patternList:["♦","♣","♥"]}),this._catchTestData={}},createCards:function(t){var e=t.numberList,i=t.patternList;this._createCards(e,i)},setInterval:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this._secInterval=t},result:function(t){var i=t.numberList,n=(t.patternList,i.length),o=this._cards.filter(function(t,e){return i[e%n]==t[1]}),s=0,a={};cc.log("成功抓到的",o);(new Date).getTime();(function(t){var e=t.success,n=t.data;if(e){Object.keys(n).forEach(function(t){var e=n[t],i=Object.keys(e).map(function(t){return e[t]});o[s]==t?(cc.log("抓到",t,i),i.sort(function(t,e){return t.moment<e.moment}),i.forEach(function(t,e){return cc.log(t.name,"獲得",e+1,"分")}),i.forEach(function(t,e){return a[t.name]?a[t.name]+=e+1:a[t.name]=e+1}),s++):(cc.log("抓錯",t),i.forEach(function(t,e){return cc.log(t.name,"扣1分")}),i.forEach(function(t,e){return a[t.name]?a[t.name]--:a[t.name]=-1}))});var i=Object.keys(a).sort(function(t,e){return e<t});cc.log("結算後成績:",i.map(function(t){return t+" 得"+a[t]+"分"})),cc.log("恭喜 "+i[0]+" 獲勝")}})({success:!0,data:this._catchTestData})},outline:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"red",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:4;cc.log("cur:",this.string,"__",t),-1<this.string.indexOf(t)?this.string=this.string.replace(t,"<outline color="+e+" width="+i+">"+t+"</outline>"):this.string="<outline color="+e+" width="+i+">"+t+"</outline>"},eventHandler:function(t,e){-1<this.string.indexOf(t)?this.string=this.string.replace(t,'<on click="'+e+'">'+t+"</on>"):this.string='<on click="'+e+'">'+t+"</on>"},_countDown:function(t){var e=this,i=t.success,n=t.data;if(cc.log(i,n),i){var o=.001*(n-(new Date).getTime()),s=Math.round(o);this.schedule(function(){return e.string=(s--).toString()},1,s-1),this.scheduleOnce(this._startGame.bind(this),s+1)}},_createCards:function(t,i){var n=[];t.forEach(function(e){i.forEach(function(t){n.push(t+e)})}),cc.log(n),this._cards=n},_startGame:function(){var t=this._cards.length;this.string="Start!",this.schedule(this._showCard.bind(this),this._secInterval,t-1),this.scheduleOnce(this._finishGame.bind(this),(t+1)*this._secInterval)},_finishGame:function(){this.string="Finish!",this.result({numberList:["A","2","3"]})},_handler:function(){var t,e,i,n=(new Date).getTime(),o=NAERT.localStorage.getItem("nickname"),s=this._cards[this._curIndex];this.string=s,this._catch({success:!0,data:(t={},e=s,i={a:{name:o,moment:n}},e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t)})},_showCard:function(){var t=this._cards[++this._curIndex];this.eventHandler(t,"_handler"),this._catchTimes=0},_catch:function(t){var i=this,e=t.success,n=t.data;e&&Object.keys(n).forEach(function(t){var e=n[t];i.outline(t,"red",2*i._catchTimes+4),cc.log(e),i._catchTestData[t]=e})}}),cc._RF.pop()},{Firebase:"Firebase"}],HintTest:[function(t,e,i){"use strict";cc._RF.push(e,"c8aa3++TzNIVp7s5n+qc9/C","HintTest"),cc.Class({extends:t("HintWindow"),properties:{},onLoad:function(){this.hint("!!!!!"),this.button("X","close"),this.button("_","hide"),this.button("test","test"),this.print("\n!!!!!")},test:function(){cc.log("test")}}),cc._RF.pop()},{HintWindow:"HintWindow"}],HintWindow:[function(t,e,i){"use strict";cc._RF.push(e,"41b2b4XvCJAN5AbAxeX6FZ5","HintWindow");var n=cc.Enum({NONE:-1,UP_TO_MIDDLE:-1});cc.Class({extends:cc.Component,properties:{Tween:{type:n,default:n.NONE},Hint:cc.Label,EventButton:cc.Node,ButtonLayout:cc.Node},onEnable:function(){switch(this.Tween){case n.UP_TO_MIDDLE:this._tween(this.node,[cc.v2(0,-150),cc.v2(0,0)],[100,255])}},onDisable:function(){this.ButtonLayout.getChildren(cc.Button).forEach(function(t){return t.destroy()})},hint:function(t){this.unschedule(this.close),this.node.active=!0,this.Hint.string=t},print:function(t){this.Hint.string+="\n"+t},button:function(t,e){var i=new cc.instantiate(this.EventButton);i.parent=this.ButtonLayout,i.active=!0,i.getComponent("EventButton").setInfo({hint:t,cb:e,close:this.hide.bind(this)})},interval:function(t){this.scheduleOnce(this.close,t)},hide:function(){this._tween(this.node,[cc.v2(0,0),cc.v2(0,-150)],[255,0]),this.unschedule(this.close),this.interval(.2)},close:function(){this.unschedule(this.close),this.Hint&&(this.Hint.string=""),this.node.active=!1},_tween:function(t,e,i){t.opacity=i[0],t.setPosition(e[0]),t.runAction(cc.spawn(cc.moveTo(.6,e[1]).easing(cc.easeBackOut()),cc.fadeTo(.3,i[1])))}}),cc._RF.pop()},{}],HitArea:[function(t,e,i){"use strict";cc._RF.push(e,"d303bx8mB1MWrfI8IMbFfGS","HitArea");var a=t("Throw"),r=function(t,e){var i=Math.abs(t.x-e.x)<=.5*(t.width+e.width),n=Math.abs(t.y-e.y)<=.5*(t.height+e.height);return i&&n};e.exports={distance:function(t,e){var i=Math.abs(Math.abs(t.x)-Math.abs(e.x)),n=Math.abs(Math.abs(t.y)-Math.abs(e.y));return Math.sqrt(i*i+n*n)},hit:r,block:function(t,e,i){var n=a.angle(t,e),o=a.project(t,n,i),s={x:o.x,y:o.y,width:t.width,height:t.height};return r(s,e)}},cc._RF.pop()},{Throw:"Throw"}],HitTestManager:[function(t,e,i){"use strict";cc._RF.push(e,"dfa5bxIyRpCpZeY5xg6biyx","HitTestManager");t("CommonStatus");var n=t("Pitcher");cc.Class({extends:cc.Component,properties:{StartPoint:cc.Node,EndPoint:cc.Node,BackgroundLayout:cc.Node,FloorLayout:cc.Node,WallLayout:cc.Node,CeilingLayout:cc.Node,OrganLayout:cc.Node,TrapLayout:cc.Node,PromptLayout:cc.Node,Actors:cc.Node,Actor:t("CrazyHotActor")},onLoad:function(){this._tap=[!1,!1],NAERT.addListener("NotifyControlLeftSideTap",this._controlEvent.bind(this,0),this),NAERT.addListener("NotifyControlRightSideTap",this._controlEvent.bind(this,1),this)},update:function(){this._hitTest()},_controlEvent:function(t,e){this._tap[t]=e.detail},_hitTest:function(){this._layerHitTest(),this._actorControl()},_layerHitTest:function(){var t=this;this.Actors.getChildren().forEach(function(e){var i=e.getComponent("CrazyHotActor");t.FloorLayout.getChildren().forEach(function(t){n.hit(e,t)&&i.standOn(t)}),t.WallLayout.getChildren().forEach(function(t){n.hit(e,t)&&i.bouncy()}),t.CeilingLayout.getChildren().forEach(function(t){n.hit(e,t)&&i.down()}),t.OrganLayout.getChildren().forEach(function(t){n.hit(e,t)&&i.opation(t)}),t.TrapLayout.getChildren().forEach(function(t){n.hit(e,organ)&&i.effected(t)}),t.PromptLayout.getChildren().forEach(function(t){n.hit(e,t)&&i.promptAction(t)}),e.y<-500&&e.setPosition(t.StartPoint)})},_actorControl:function(){this._tap[0]&&this._tap[1]?this.Actor.jump():this._tap[0]?this.Actor.move(-1):this._tap[1]?this.Actor.move(1):this.Actor.brakes()}}),cc._RF.pop()},{CommonStatus:"CommonStatus",CrazyHotActor:"CrazyHotActor",Pitcher:"Pitcher"}],JoinRoomHint:[function(t,e,i){"use strict";cc._RF.push(e,"88a78AMp01IVbOZqOFhLA5W","JoinRoomHint"),cc.Class({extends:t("HintWindow"),properties:{},onLoad:function(){},edit:function(t,e){this.node.active=!0,this.button("Join "+e.text,this._joinRoom.bind(this,t))},_joinRoom:function(t){this.node.active=!1,NAERT.dispatchCustomEvent(t,this._getComponentInfo())},_getComponentInfo:function(){return this.EditBox.string||this.EditBox.placeholder}}),cc._RF.pop()},{HintWindow:"HintWindow"}],KeepInCamra:[function(t,e,i){"use strict";cc._RF.push(e,"91077HbixBI1prZXkFPEsVq","KeepInCamra"),cc.Class({extends:cc.Component,properties:{Target:cc.Node,Layouts:[cc.Node]},onLoad:function(){var t=cc.director.getScene().getChildren()[0];this.midWidth=this.axisFixX=.5*t.width,this.midHeight=this.axisFixY=.5*t.height},update:function(){var t=this.Target.convertToWorldSpaceAR(cc.v2(0,150)),e=this.midWidth-t.x,i=this.midHeight-t.y;if(50<Math.abs(e)||50<Math.abs(i)){var n=.1*e,o=.2*i;this.Layouts.forEach(function(t){t.x+=n,t.y+=o}),this.Target.x+=n,this.Target.y+=o}},setTargetPos:function(t){this.axisFixX=t.x,this.axisFixY=t.y}}),cc._RF.pop()},{}],ListFolder:[function(t,e,i){"use strict";cc._RF.push(e,"7a622+3yBZJebOW7fFeuAGO","ListFolder");var c=t("Firebase");cc.Class({extends:cc.Component,properties:{Refer:"Boardgame/",Field:"Field/",Prompt:"Prompt",Label:cc.Label,Layout:cc.Node,ListItem:cc.Node,OnTop:!1,Dialog:t("HintWindow"),CheckConditions:[cc.Component.EventHandler],_uniqueid:"",_isUnfold:!1},onLoad:function(){this._viewUniqueid=NAERT.randomUniqueCode(),this._fireData={},this._listData=[],this._checkStatus=!1,this._loaded=!1,this._isUnfold=this.OnTop,NAERT.addListener("NotifyAddNew"+this._viewUniqueid,this.addNewContent.bind(this)),NAERT.addListener("NotifyModify"+this._viewUniqueid,this.editContent.bind(this)),NAERT.addListener("NotifyDelete"+this._viewUniqueid,this.deleteContent.bind(this))},start:function(){var n=this;this.OnTop&&c.check(this.Refer+this.Field).then(function(t){var e=t.success,i=t.data;e?Object.keys(i).forEach(function(t){return n.setUniqueid(t,!0)}):c.record(n.Refer+n.Field,{text:n.Prompt}).then(function(t){return n.setUniqueid(t,!1)})})},foldList:function(t){this._isUnfold=!1,this.Layout.children.forEach(function(t){return t.active=!1}),t&&t()},unfoldList:function(t){this._isUnfold=!0,this.Layout.children.forEach(function(t){return t.active=!0}),t&&t()},addNewContent:function(t){var i=this;if(cc.log(this.node.name),cc.log("add new contetn listitem:",this.ListItem),this.ListItem){var n=this._uniqueid,o=t.detail,s=this.Field+n,a=this.ListItem.getComponent("ListFolder").Field,r="";return new Promise(function(e){c.record(i.Refer+a,{text:o,from:s}).then(function(t){return r=t,i._checkStatus=!1,c.refresh(i.Refer+i.Field+n+"/list/"+r,!1)}).then(function(t){return e(r)})})}},editContent:function(t){var i=this;return new Promise(function(e){c.refresh(i.Refer+i.Field+"/text/",t.detail,i._isUnfold).then(function(t){return e(t)})})},deleteContent:function(){var i=this;return new Promise(function(e){c.check(i.Refer+i._fromPath).then(function(t){t.success?(c.destroy(i.Refer+i.Field+i._uniqueid),c.destroy(i.Refer+i._fromPath+"/list/"+i._uniqueid)):c.destroy(i.Refer+i.Field+i._uniqueid),i.node.destroy(),e(!0)})})},setUniqueid:function(t,e){this.node.active=this._isUnfold=e,this._uniqueid=t,cc.log(this.node.name,"set unique id",t," visible:",this._isUnfold),!this._loaded&&c.listen(this.Refer+this.Field+t,this._showInfo.bind(this)),this._loaded=!0},getUniqueid:function(){return this._uniqueid},checkUniqueid:function(t){return this._uniqueid==t},_showInfo:function(t){var o=this,e=t.success,i=t.data;if(e){if(cc.log(this.Field,"show info:",i),this._fireData=i,this._fromPath=i.from||"",this.Label.string=i.text||"",cc.log("data.list:",i.list),this._listData=i.list||null,!this._listData)return;var s=this.Layout.getChildren();Object.keys(this._listData).map(function(t,e){var i=s[e]||cc.instantiate(o.ListItem),n=i.getComponent("ListFolder");i.parent=o.Layout,n&&n.setUniqueid(t,o._isUnfold)})}},checkContent:function(t){var n=this;this.CheckConditions.every(function(t){return t.target.getComponent(t.component)[t.handler](n._uniqueid)})&&c.check(this.Refer+this._fromPath+"/list/"+this._uniqueid).then(function(t){var e=t.success,i=t.data;e&&(n.node.color=i?cc.Color.YELLOW:cc.Color.GREEN,c.refresh(n.Refer+n._fromPath+"/list/"+n._uniqueid,!i))})},clickOnCheck:function(){this.checkContent()},clickOnFolder:function(){var e=this;cc.log("點擊bar",this._uniqueid,!this._isUnfold),this._isUnfold=!this._isUnfold,this.Layout.children.forEach(function(t){return t.active=e._isUnfold})},clickOnAddNew:function(){this.Dialog.create("NotifyAddNew"+this._viewUniqueid)},clickOnEdit:function(){this.Dialog.edit("NotifyModify"+this._viewUniqueid,this._fireData,this._uniqueid,this._isUnfold)},clickOnDel:function(){cc.log("del",this.Refer+this.Field+this._uniqueid+"/"),cc.log("&",this.Refer+this._fromPath),this.deleteContent()},clickOnBroadcast:function(){c.remind(this.Refer+"remind/",this._listData),cc.log("廣播:",this._listData)},clickOnFixPosition:function(t){var e=cc.director.getScene().children[0];this.node.setPosition(cc.v2(0,0)),this._isUnfold=!this._isUnfold,this._isUnfold?this.node.y=e.height-t.target.convertToWorldSpaceAR(cc.v2(.5*-e.width,0)).y:this.node.y=.5*e.height}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow"}],ListItem:[function(t,e,i){"use strict";cc._RF.push(e,"6135138NVZFGYoNCfKj0fdb","ListItem");var n=t("FlipData");cc.Class({extends:cc.Component,properties:{Hint:cc.Label},onEnable:function(){n.getItem("bookmark/"+this.node.name,this._setInfo.bind(this))},_setInfo:function(t){this.Hint.string=t.hint},_tween:function(t){t.scaleX=t.scaleY=.2,t.runAction(cc.spawn(cc.fadeTo(.6,255),cc.scaleTo(1.2,1,1).easing(cc.easeBounceOut())))},_changeParam:function(t,e){},clickDelete:function(){}}),cc._RF.pop()},{FlipData:"FlipData"}],LobbyRoomDialog:[function(t,e,i){"use strict";cc._RF.push(e,"9031dkCWu9PwYI3vbTFvWkn","LobbyRoomDialog"),cc.Class({extends:t("HintWindow"),properties:{EditBox:cc.EditBox,DefaultRoomName:"Name a room"},onLoad:function(){this.node.active=!1},create:function(t){this.node.active=!0,this.EditBox.placeholder=this.DefaultRoomName,this.EventButton.getComponent("EventButton").setInfo({hint:"Create",cb:this._addNewRoom.bind(this),close:this.close.bind(this)})},edit:function(t,e,i,n){NAERT.dispatchCustomEvent("NotifyAbortLobbyRoom",{dialog:this,uniqueid:i}),n||(this.node.active=!0,this.button("Join "+e.text,this._joinRoom.bind(this,i)))},check:function(t,e,i,n){this.node.active=!0,this.EventButton.getComponent("EventButton").setInfo({hint:e.text+(n?"還沒準備好":"已做好準備"),cb:this._checkReady.bind(this,i),close:this.close.bind(this)})},_addNewRoom:function(){this.node.active=!1,NAERT.dispatchCustomEvent("NotifyAddNewLobbyRoom",this._getComponentInfo())},_joinRoom:function(t){this.node.active=!1,NAERT.dispatchCustomEvent("NotifyJoinLobbyRoom",t)},_checkReady:function(t){NAERT.dispatchCustomEvent("NotifyCheckReady",t)},_getComponentInfo:function(){return this.EditBox.string||this.EditBox.placeholder}}),cc._RF.pop()},{HintWindow:"HintWindow"}],LobbyRoom:[function(t,e,i){"use strict";cc._RF.push(e,"92ab0Z9gaFLAJU9UBiLjdA5","LobbyRoom");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{LobbyListItem:cc.Node,ReadyButton:cc.Node,UnreadyButton:cc.Node},onLoad:function(){this._refName="uniqneid",this._refRoomCode="123456",this._refRoommate="uniqneid",this._roommateCode="uniqneid",this._isMaster=!1,this._minmium=2,this._maxmium=2},room:function(t){return this._refName=t,this._isMaster=!1,this},min:function(t){return this._minmium=t,this},max:function(t){return this._maxmium=t,this},list:function(t){return n.remove(this._refName+"/room/"),t?(this._refRoomCode=this._refName+"/room/"+t+"/",this._refRoommate=this._refRoomCode+"mates/"):n.listen(this._refName+"/room/",this._lobbyRoomList.bind(this)),this},join:function(e){var i=this;n.check(this._refRoomCode,function(t){t.success;i._isMaster,cc.log("是否為房主",i._isMaster),i._roommateCode=n.record(i._refRoommate,e),i._standUp(),n.refresh(i._refRoommate+i._roommateCode+"/status","unready"),n.listen(i._refRoomCode,i._listRoommates.bind(i)),n.listen(i._refRoomCode+"joinGame",i._joinGame.bind(i))})},isMaster:function(){return this._isMaster},_lobbyRoomList:function(t){var n=this,e=t.success,o=t.data;if(e){var s=this.node.getChildren();s.forEach(function(t){return t.active=!1}),Object.keys(o).forEach(function(e,t){o[e];var i=s.find(function(t){return t.name==e})||s[t]||cc.instantiate(n.LobbyListItem);i.parent=n.node,i.active=!0,i.getChildren()[0].getComponent(cc.Label).string=e,n._setButtonEvent(i,"_joinListRoom",e)})}else cc.log("清單無房間");var i=cc.instantiate(this.LobbyListItem);i.parent=this.node,i.active=!0,i.getChildren()[0].getComponent(cc.Label).string="+",this._setButtonEvent(i,"_joinListRoom",Math.floor(1e4*Math.random()))},_joinListRoom:function(t,e){this.list(e).join("Naert")},_listRoommates:function(t){var i=t.data,n=(t.num,0);Object.keys(i).forEach(function(t){var e=i[t];e.name;"ready"==e.status&&n++}),this._isMaster&&n>this._minmium&&this._guideGame()},_sitDown:function(){n.refresh(this._refRoommate+this._roommateCode+"/status","ready"),this.ReadyButton.active=!1,this.UnreadyButton.active=!0},_standUp:function(){n.refresh(this._refRoommate+this._roommateCode+"/status","unready"),this.ReadyButton.active=!0,this.UnreadyButton.active=!1},_abortRoom:function(){n.remove(this._refRoommate),n.remove(this._refRoomCode+"joinGame"),this._roommateCode="",n.destroy(this._refRoommate+this._roommateCode),n.destroy(this._refRoomCode+"joinGame")},_guideGame:function(){n.remind(this._refRoomCode+"joinGame",Math.floor(1e4*Math.random()))},_joinGame:function(t){var e=t.data;this._abortRoom(),NAERT.dispatchCustomEvent("NotifyGuideGame",e,this)},_setButtonEvent:function(t,e,i){(t.getComponent(cc.Button)||t.addComponent(cc.Button)).clickEvents.push(this._eventHandlerClick(e,i))},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="LobbyRoom",i.handler=t,i.customEventData=e,i},clickOnJoinRoom:function(){this.node.name},clickOnAbortRoom:function(){this._abortRoom()},clickOnSitDown:function(){this._sitDown()},clickOnStandUp:function(){this._standUp()}}),cc._RF.pop()},{Firebase:"Firebase"}],LobbyTool:[function(t,e,i){"use strict";cc._RF.push(e,"fd344lQiz5AxLr0b0DHqFJk","LobbyTool"),cc.Class({extends:cc.Component,properties:{EditBox:cc.EditBox,DefaultRoomName:"Name a room"},onLoad:function(){},addRoom:function(){this.node.active=!0,this.EditBox.active=!0,this.EditBox.placeholder=this.DefaultRoomName},joinRoom:function(){},abortRoom:function(){}}),cc._RF.pop()},{}],LobbyUI:[function(t,e,i){"use strict";cc._RF.push(e,"faeb5x4fZtPyrIw9aXTNOhW","LobbyUI");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{LobbyFolder:t("ListFolder"),RoomList:cc.Node,Minimum:1,Maximum:1},onLoad:function(){this._roomid="",this._chairid="",this._playerid=NAERT.localStorage.getItem("player_uniqueid",NAERT.randomUniqueCode()),this._playernick=NAERT.localStorage.getItem("nickname","路人"+Math.floor(1e4*Math.random())),this.isMaster=!1,window.onbeforeunload=this._onbeforeunload.bind(this),NAERT.addListener("NotifyAddNewLobbyRoom",this._addNewLobbyRoom.bind(this)),NAERT.addListener("NotifyJoinLobbyRoom",this._joinLobbyRoom.bind(this)),NAERT.addListener("NotifyAbortLobbyRoom",this._abortLobbyRoom.bind(this))},_addNewLobbyRoom:function(t){var n=this;this._roomid&&this._leaveLobbyRoom(this._roomid,this._chairid),this.LobbyFolder.addNewContent(t).then(function(i){n._roomid=i,n.RoomList.getChildren().find(function(t){var e=t.getComponent("ListFolder");return!!e.checkUniqueid(i)&&(e.unfoldList(),e.addNewContent({detail:n._playernick}).then(function(t){n.isMaster=!0,n._chairid=t,n._joinReady(!0)}),!0)})})},_joinLobbyRoom:function(t){var i=this;this._roomid&&this._leaveLobbyRoom(this._roomid,this._chairid),this._roomid=t.detail,this.RoomList.getChildren().find(function(t){var e=t.getComponent("ListFolder");return!!e.checkUniqueid(i._roomid)&&(e.unfoldList(),e.addNewContent({detail:i._playernick}).then(function(t){i._chairid=t,i._joinReady(!0)}),!0)})},_abortLobbyRoom:function(t){var e=t.detail;this._leaveLobbyRoom(this._roomid,this._chairid),this._preRoomDialog&&this._preRoomDialog.close(),this._preRoomDialog=e.dialog},_leaveLobbyRoom:function(e,n){this._roomid="",this._chairid="",this.isMaster=!1,e&&n&&(this._joinReady(!1),this.RoomList.getChildren().find(function(t){var i=t.getComponent("ListFolder");return!!i.checkUniqueid(e)&&(i.Layout.getChildren().find(function(t){var e=t.getComponent("ListFolder");return!!e.checkUniqueid(n)&&(e.deleteContent(),i.foldList(),!0)}),!0)}))},checkReadyEvent:function(t){return!(!this._roomid||!this._chairid)&&t==this._chairid},_joinReady:function(t){if(this._roomid){var e=this.LobbyFolder.Refer+"Room/"+this._roomid+"/list/";cc.log("xxxxxx",t,e),t?n.listen(e,function(t){var e=t.success,i=t.data;e&&(cc.log("ooooo",i),Object.keys(i).every(function(t){return i[t]})&&cc.log("開始遊戲囉！"))}):n.remove(e)}},_onbeforeunload:function(){this._roomid&&this._chairid&&this._leaveLobbyRoom(this._roomid,this._chairid)}}),cc._RF.pop()},{Firebase:"Firebase",ListFolder:"ListFolder"}],Lobby:[function(t,e,i){"use strict";cc._RF.push(e,"e2f81hjZRVEaZiWK6QzPkDC","Lobby");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{DefaultName:"Room_",Room:t("Room"),Hint:t("HintWindow")},onLoad:function(){this._refName="",this._playerName="",this._minmium=2,this._maxmium=2,this._isMaster=!1},room:function(t,e){var i=this;return this.node.active=!0,this._refName=t,this._playerName=e,NAERT.addListener("NotifyLobbyRoom",this.roomList.bind(this),this),NAERT.addListener("NotifyCreateRoom",this.createRoom.bind(this),this),NAERT.addListener("NotifyCreateNewRoom",this._createRoom.bind(this),this),NAERT.addListener("NotifyJoinRoom",this.joinRoom.bind(this),this),NAERT.addListener("NotifyAbortRoom",this.abortRoom.bind(this),this),NAERT.addListener("NotifySitDown",this.sitDown.bind(this),this),NAERT.addListener("NotifyStandUp",this.standUp.bind(this),this),NAERT.addListener("NotifyGuideGame",this.guideGame.bind(this),this),NAERT.addListener("NotifyCreateGame",this.createGame.bind(this),this),n.check(this._refName,function(t){!t.success&&n.refresh(i._refName,{date:i._nowTime()})}),this},limit:function(t,e){return this._minmium=t,this._maxmium=e,this},roomList:function(){this.Room.chain(this._refName).list()},createRoom:function(){this.Hint.createRoom(this.DefaultName+Math.floor(1e4*Math.random()))},_createRoom:function(t){var e=t.detail;this.Room.create(e,this._playerName).join().table().min(this._minmium).max(this._maxmium).join(this._playerName).list()},joinRoom:function(){this.Room.join().table().min(this._minmium).max(this._maxmium).join(this._playerName).list()},abortRoom:function(){this.Room.exit().table().quit()},createGame:function(t){var e=t.detail,i=n.record(this._refName+"/game/",{date:this._nowTime(),member_num:e});this.Room.join().table().guideGame(i,e),this._isMaster=!0},guideGame:function(){this.abortRoom()},sitDown:function(){this.Room.table().sit(this._playerName)},standUp:function(){this.Room.table().stand(this._playerName)},isMaster:function(){return this._isMaster},_nowTime:function(){var t=new Date;return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow",Room:"Room"}],LogSplit:[function(t,e,i){"use strict";cc._RF.push(e,"ae02eNJf21H2qIU9YnZeJZO","LogSplit"),cc.Class({extends:cc.Component,properties:{URL:cc.EditBox,ParamNodeList:cc.Node,ParamNode:cc.Node},onLoad:function(){this._actionList=[],this._dataLangth=0,this._highlight="",Array.prototype.clean=function(t){for(var e=0;e<this.length;e++)this[e]==t&&(this.splice(e,1),e--);return this},0<this.URL.string.length&&this._splitURL()},_loadLogData:function(n){var o=this;return this._actionList=[],new Promise(function(t,e){if(n)t(o._replaceData(n));else{var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200<=i.status&&i.status<400&&t(this._replaceData(i.responseText))}.bind(o),i.open("GET",o._getURL(),!0),i.send()}})},_splitURL:function(){var s=this,t=this.URL.string||this.URL.placeholder;if(t){var a=this.ParamNodeList.getChildren();a.forEach(function(t){return t.active=!1}),cc.log("xxx",a.length);var e=t.split("?");this._logPath=e[0],e[1].split("&").forEach(function(t,e){var i=t.split("=")[0],n=a[e]||cc.instantiate(s.ParamNode),o=n.getComponent(cc.EditBox);n.setPosition(-300,(n.height+5)*(-e-1)),n.setAnchorPoint(0,.5),n.name=i,n.parent=s.ParamNodeList,n.active=!0,o.string=decodeURIComponent(t).replace("=",": "),n.width=12*o.string.length})}},_getURL:function(){var n=this,t=this.ParamNodeList.getChildren().map(function(t){var e=t.getComponent(cc.EditBox);if(!e)return null;if(-1==e.string.indexOf(": "))return null;if(-1<e.string.indexOf("highlight"))return n._highlight=e.string.split(": ")[1],null;var i=e.string.split(": ");return i[0]+"="+i[1]}).clean(null),e=this._logPath+"?"+t.join("&");return this.URL.string=e+"&highlight="+this._highlight,0<t.length?e:""},_replaceData:function(t){var u=this._highlight,d=[],l=!1,e=new RegExp("(..:..:..) (InP|OutP|currseat)\\(("+u+"|R,.*)\\|.*\\) (.*)","gm");return t.replace(e,function(t,e,i,n,o){if(l=n==u||l,o&&l){var s=o.replace(/\\0/g," ").split(" "),a=e,r=s.shift(),c=s,h=this["cmd_"+r];h&&d.push(h.bind(this,a,r,u,c))}}.bind(this)),d},onEditBoxBegan:function(t){t.placeholder=t.string,t.string=""},onEditBoxEnded:function(n){n.string?(n.placeholder.replace(/(.*)\: (.*)/,function(t,e,i){return n.string=e+": "+n.string}),this._getURL()):n.string=n.placeholder},onURLEditBoxEnded:function(t){!t.string&&(t.string=t.placeholder),this._splitURL()},clickOnLoadURL:function(){var e=this;this._loadLogData().then(function(t){e._actionList=t,e._dataLangth=e._actionList.length,cc.log("共",t.length,"步")}).then(function(t){return e.onReady()})}});cc._RF.pop()},{}],MapEditor:[function(t,e,i){"use strict";cc._RF.push(e,"17fbfK94PBBIYfQW17CxDtd","MapEditor"),cc.Class({extends:cc.Component,editor:!1,properties:{grid:t("Grid"),tile:cc.Node},onLoad:function(){var t=cc.director.getScene().getChildren()[0];this.node.setContentSize(t.width,t.height),this.node.setPosition(.5*-t.width,.5*-t.height),this.node.on(cc.Node.EventType.TOUCH_START,this._onPress.bind(this))},_onPress:function(t){var e=this.grid.size,i=t.touch.getLocation(),n=Math.floor(i.x/e)*e,o=Math.floor(i.y/e)*e,s="tile_"+n+"_"+o,a=this.node.getChildren().find(function(t){return t.name==s});if(a)a.destroy();else{var r=cc.instantiate(this.tile);r.setPosition(n,o),r.name=s,r.parent=this.node}}}),cc._RF.pop()},{Grid:"Grid"}],MuoseTracer:[function(t,e,i){"use strict";cc._RF.push(e,"d3d62q+EvZFDLraGelw3Tzg","MuoseTracer"),cc.Class({extends:cc.Component,properties:{spriteNode:cc.Node,keepinCarmra:t("KeepInCamra")},onDrag:function(t){var e=t.x-250,i=t.y-250;this.spriteNode.x+=.15*e,this.spriteNode.y+=.15*i,this.keepinCarmra.setTargetPos(this.spriteNode.convertToWorldSpaceAR(cc.v2(0,0)))},onRelease:function(t){var e={x:t.x-250,y:t.y-250};this.spriteNode.position=e,cc.log(e,this.spriteNode.convertToWorldSpaceAR(cc.v2(0,0))),this.keepinCarmra.setTargetPos(this.spriteNode.convertToWorldSpaceAR(cc.v2(0,0)))}}),cc._RF.pop()},{KeepInCamra:"KeepInCamra"}],"NewScript - 001":[function(t,e,i){"use strict";cc._RF.push(e,"dfcb7zucDxE4IGqkOWA4QJa","NewScript - 001"),cc.Class({extends:cc.Component,properties:{Target:cc.Node},onLoad:function(){cc.log("hi"),this.scheduleOnce(function(){cc.log("hi"),this.Target.active=!0}.bind(this),1)}}),cc._RF.pop()},{}],NewScript:[function(t,e,i){"use strict";cc._RF.push(e,"60e53/r4vhHSLew4wBwmyLM","NewScript");var n=t("Throw"),o=t("HitArea");t("Firebase");cc.Class({extends:cc.Component,properties:{Target:cc.Node},onLoad:function(){cc.log("onload")},onEnable:function(){cc.log("onenable")},start:function(){cc.log("start"),this.node.on("mousedown",function(t){cc.log("hi")}.bind(this))},update:function(t){},_testRebound:function(){o.block(this.node,this.Target,this.node.magnitude)&&(this.Target.magnitude=.5*this.node.magnitude,this.node.magnitude=.5*~this.node.magnitude),this._retardTween(this.Target,this.angle,.03),this._retardTween(this.node,this.angle,.03)},_retardTween:function(t,e,i){t.setPosition(n.project(t,e,t.magnitude)),t.magnitude=n.retard(t.magnitude,i)},_testGiftCard:function(){this.DataName="boardgame_gift_test",this.CardLibary.cards(this.DataName+"/room","123"),this.CardLibary.create(3,35).shuffle().remove(9).saveLibary().drawCard(),this.CardLibary.greeting()},_testRefreshNCloseWebview:function(){console.log(cc.sys.localStorage.getItem("xxxx")),window.onbeforeunload=function(){cc.sys.localStorage.removeItem("xxxx","hi")}},onWebviewExit:function(){cc.sys.localStorage.setItem("xxxx","hi")},_childActive:function(t){var n=this,o=(t=["A","B","C","D"],this.node.getChildren());o.forEach(function(t){return t.active=!1}),t.forEach(function(e,t){var i=o.find(function(t){return t.name==e})||o.find(function(t){return!t.active})||cc.instantiate(o[0]);i.name=e,i.parent=n.node,i.active=!0,i.setSiblingIndex(t),i.getChildren()[0].getComponent(cc.Label).string=e}),t=["A","B","D"],o.forEach(function(t){return t.active=!1}),t.forEach(function(e,t){var i=o.find(function(t){return t.name==e})||o.find(function(t){return!t.active})||cc.instantiate(o[0]);i.name=e,i.parent=n.node,i.active=!0,i.setSiblingIndex(t),i.getChildren()[0].getComponent(cc.Label).string=e}),t=["A","C","D","E"],o.forEach(function(t){return t.active=!1}),t.forEach(function(e,t){var i=o.find(function(t){return t.name==e})||o.find(function(t){return!t.active})||cc.instantiate(o[0]);i.name=e,i.parent=n.node,i.active=!0,i.setSiblingIndex(t),i.getChildren()[0].getComponent(cc.Label).string=e})},_flipCard:function(t){var e=t.x,i=t.y;cc.log(i),t.runAction(cc.sequence(cc.spawn(cc.moveTo(.6,cc.v2(e+50,i+10)).easing(cc.easeBackOut()),cc.scaleTo(.3,.01,1).easing(cc.easeBackOut())),cc.spawn(cc.moveTo(1.2,cc.v2(e+10,i+12)).easing(cc.easeBackOut()),cc.scaleTo(.6,1.1,1.1).easing(cc.easeBackOut())),cc.spawn(cc.moveTo(.1,cc.v2(e,i)),cc.scaleTo(.1,1,1))))},clickOnDoSomeThing:function(){cc.log("hi")}}),cc._RF.pop()},{Firebase:"Firebase",HitArea:"HitArea",Throw:"Throw"}],PanelList:[function(t,e,i){"use strict";cc._RF.push(e,"e97d1SbNC5Lj5kmaMFmnyrP","PanelList");var n=t("FlipData"),o=t("Firebase");cc.Class({extends:cc.Component,properties:{Item:cc.Node},onLoad:function(){this._itemNum=0},onEnable:function(){this._loadData()},onDisable:function(){this.node.getChildren().forEach(function(t){return t.active=!1}),this._itemNum=0},_loadData:function(){cc.log("parent.node.name:",this.node.parent.name,"==",n.getUniqneid());var t=this.node.parent.name;n.getItem(t,this._setInfo.bind(this))},_reloadData:function(){this._loadData()},_setInfo:function(t,e){t.list&&this._setItemList(t.list),this._itemNum=e},_setItemList:function(n){var o=this,s=this.node.getChildren();s.forEach(function(t){return t.active=!1}),cc.log(n),Object.keys(n).forEach(function(t,e){var i=n[t].toString();o._getChild(s[e],i),cc.log("itemUniqneid:",i)})},_addItem:function(t,e){var i=this.node.getChildren();this._getChild(i[this._itemNum],t).getComponent("ListItem")._setInfo({data:e[t]}),this._itemNum++},_getChild:function(t,e){var i=t||cc.instantiate(this.Item);return i.parent=this.node,i.name=e,i.active=!0,i},clickAdd:function(){this.obj={hint:"馬桶",position:this.node.name,space:[10,8],area:[22,11],weight:12200,storage:"屎"},this.clickSave()},clickSave:function(){n.addItem(this.node.name,this.obj)?this._reloadData():cc.log("fail")},onRabbitHunt:function(){cc.log("pppppp"),o.check("rabbit_hunt/players",function(t){var e=this,i=t.data;Object.keys(i).forEach(function(t){return e._addItem(t,i)})}.bind(this))}}),cc._RF.pop()},{Firebase:"Firebase",FlipData:"FlipData"}],Pitcher:[function(t,e,i){"use strict";cc._RF.push(e,"31156WniAlGU7KCSSe8gHL1","Pitcher");var n=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)/Math.PI*180},r=function(t,e,i){return i?{x:t.x+1e-4*Math.floor(i*Math.cos(e*Math.PI/180)*1e4),y:t.y+1e-4*Math.floor(i*Math.sin(e*Math.PI/180)*1e4)}:t},s=function(t,e,i,n,o){var s={x:t.x,y:t.y};if(n){for(var a=0;.05<i;)s=r(s,e,i),i=c(i,n),a++;cc.log(a)}if(o)for(;0<o;)s=r(s,e,i),o--;return s},c=function(t,e){return.001<Math.abs(t)?t-=t*e:0},o=function(t,e){var i=Math.abs(t.x-e.x)<=.5*(t.width+e.width),n=Math.abs(t.y-e.y)<=.5*(t.height+e.height);return i&&n};e.exports={prediction:s,angle:n,project:r,retard:c,hit:o,reflectionAngle:function(t,e,i,n){var o=s(t,i,n,0,1);return Math.abs(o.x)>.5*(e.width-t.width)?180-i:Math.abs(o.y)>.5*(e.height-t.height)?-i:i}},cc._RF.pop()},{}],PixelImg:[function(t,e,i){"use strict";cc._RF.push(e,"4ecd9m6e05KWoEsKfWFl0cb","PixelImg");var s=t("Firebase"),n=["000000","ff0000","00ff00","0000ff","ffff00","00ffff","ffffff"];cc.Class({extends:cc.Component,properties:{Width:30,Height:30,Pixel:5,Box:cc.Node,Mask:cc.Node},onLoad:function(){this._setPalette(),this._poly(),this._tempImg={}},load:function(t,n){var o=this;this.Mask&&(this.Mask.opacity=255),this._tempImg[n]?this._paint(this._tempImg[n]):s.check(t+n).then(function(t){var e=t.success,i=t.data;e&&(o._paint(i),o._tempImg[n]=i,o.Mask&&o.Mask.runAction(cc.fadeTo(.3,0)))})},shake:function(){this.node.stopAllActions(),this.node.setScale(1,1),this.node.runAction(cc.sequence(cc.scaleTo(.3,1.2,1.2).easing(cc.easeElasticOut()),cc.scaleTo(.5,1,1).easing(cc.easeElasticIn())))},_paint:function(t){var i=this,n=this.node.children;Object.keys(t).forEach(function(e){t[e].forEach(function(t){return n[t].color=i._palette[e]})})},_poly:function(){var t=this.Width*this.Height;this.node.addComponent(cc.Layout).type=cc.Layout.GRID,this.node.setContentSize(this.Width*this.Pixel,this.Height*this.Pixel),this.Box.setContentSize(this.Pixel,this.Pixel);for(var e=0;e<t;e++){cc.instantiate(this.Box).parent=this.node}},_setPalette:function(){var i=this;this._palette={},n.forEach(function(t){var e=i._hexToRgb(t);i._palette[t]=new cc.Color(e[0],e[1],e[2])})}}),cc._RF.pop()},{Firebase:"Firebase"}],Poker:[function(t,e,i){"use strict";cc._RF.push(e,"a3bafjpNx9C7Y+KU7kwx/JK","Poker");var n=t("Firebase"),s=["3","4","5","6","7","8","9","10","J","Q","K","A","2"],a=["♣","♦","♥","♠"];cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._refName="PokerRefDefaultName",this._libary=[],this._handCards=[]},create:function(){for(var t=s.length,e=a.length,i=parseInt(s[0]),n=0;n<t;n++)for(var o=0;o<e;o++)this._libary.push({worth:n*a.length+o,number:(n+i)%t,pattern:o,surface:a[o]+s[n]})},shuffle:function(){return this._libary.sort(function(){return.5-Math.random()}),this},deal:function(t){for(var e=Math.floor(this._libary.length/t),i=this._libary.length-e*t,n=0;n<t;n++)this._handCards.push(this._libary.splice(0,e));for(var o=0;o<i;o++)this._handCards[o].push(this._libary.shift());return this},save:function(t){t&&(this._refName=t),n.refresh(this._refName,{libary:this._libary,handCards:this._handCards})},clean:function(){n.destroy(this._refName)},sort:function(i){return this._libary.sort(function(t,e){return t[i]-e[i]}),this}}),cc._RF.pop()},{Firebase:"Firebase"}],QQLogView:[function(t,e,i){"use strict";cc._RF.push(e,"921c0Hb8YVHRYuBAgeEYFa5","QQLogView"),cc.Class({extends:t("LogSplit"),properties:{nextButton:cc.Node,prevButton:cc.Node,lastButton:cc.Node,restartButton:cc.Node,logLabel:cc.Label,cardList:cc.Node,card:cc.Node},start:function(){this.nextButton.active=!1,this.prevButton.active=!1,this.lastButton.active=!1,this.restartButton.active=!1},onReady:function(){this._count=0,this._step=1,this._playerInfo={},this._isPause=!1,this.onStart()},onStart:function(){this.nextButton.active=!0,this.prevButton.active=!0,this.lastButton.active=!0,this.restartButton.active=!0,this._isPause?this._printLog("-----------------------------------\n----------------",this._count,"----------------\n-----------------------------------"):(this._actionList[this._count](),this._count+=this._step,this._count<this._dataLangth?-1<this._count?this.onStart():(this.prevButton.active=!1,this.restartButton.active=!1,this._count=0,this._printLog("-----------------------------------\n---------------- START ----------------\n-----------------------------------")):(this.nextButton.active=!1,this.lastButton.active=!1,this._printLog("-----------------------------------\n---------------- END ----------------\n-----------------------------------")))},clickOnRestart:function(){this._actionList.slice(0,this._count).reverse().forEach(function(t){return t()}),this._count=0,this.nextButton.active=!0,this.lastButton.active=!0,this.prevButton.active=!1,this.restartButton.active=!1,this._printLog("------TO BEGAN------")},clickOnLast:function(){this._actionList.slice(this._count).forEach(function(t){return t()}),this._count=this._actionList.length-1,this.prevButton.active=!0,this.restartButton.active=!0,this.nextButton.active=!1,this.lastButton.active=!1,this._printLog("------TO ENDED------")},clickOnStart:function(){-1==this._step&&(this._step=1,this._count+=2),this._isPause=!1,this.onStart()},clickOnRevert:function(){1==this._step&&(this._step=-1,this._count-=2),this._isPause=!1,this.onStart()},cmd_currseat:function(t,e,i,n){var o=this,s=JSON.parse(n[1]),a=["開局準備中","等待玩家加入","牌局結算","遊戲中"][parseInt(n[0],10)+3];this._printLog(t,e,a,": 牌桌上已有",s.length,"人坐下"),s.forEach(function(t){return o._printLog("\t\tset_"+t[0],"玩家",t[1],1==t[2]?"牌局中！":"等待牌局...")})},cmd_set_auto_bring_in:function(t,e,i,n){var o=JSON.parse(n[0]);this._printLog(t,e,i,"自動配桌，攜入",this._unitParse(o.money),"each_round:",o.each_round,"when_zero:",o.when_zero)},cmd_sit:function(t,e,i,n){this._printLog(t,e,i,"坐在位置",n[0],"攜入籌碼",this._unitParse(n[1]))},cmd_myPos:function(t,e,i,n){this._printLog(t,e,i,-1==n[0]?"尚未未入座":"入座(sit_"+n[0]+")")},cmd_set_qmoney:function(t,e,i,n){this._printLog(t,e,"更新玩家",i,"個人總資產:",this._unitParse(n[0]))},cmd_playerSit:function(t,e,i,n){this._printLog(t,e,"新玩家",n[2]+"("+n[1]+")","入座(sit_"+n[0]+")")},cmd_roomparam:function(t,e,i,n){this._printLog(t,e,i,"底注"+this._unitParse(n[0]),"(最小/大攜入:",this._unitParse(n[1]),"/",this._unitParse(n[2])+")"),this._isPause=!0},cmd_playing:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"正在進行牌局"),this._nextCommand(1,t,i,n)},cmd_waiting_confirm:function(t,e,i,n){this._printLog(t,e,i,"等待("+n[0]+"秒)玩家傳回牌型順序")},cmd_confirmed:function(t,e,i,n){this._printLog(t,e,"玩家",n[0],"已確認")},cmd_confirm:function(t,e,i,n){this._printLog(t,e,"玩家",i,"傳回牌型順序",n[0])},cmd_updateChips:function(t,e,i,n,o){var s=JSON.parse(n[0]);isNaN(parseInt(o,10))?this._printLog(t,e,"更新所有桌上錢包",s):this._printLog(t,e,"更新 (sit_"+o+") 桌上錢包",this._unitParse(s[o]))},cmd_finish1:function(t,e,i,n){var o=this;this._printLog(t,e,"結算秀牌"),JSON.parse(n[0]).forEach(function(t,e){return o._printLog("\t\tset_"+e,":",t)}),this._printLog("-----------------結算秀牌"),this._isPause=!0},cmd_allPool:function(t,e,i,n){this._printLog(t,e,"此次比牌彩池共有",n[0],"池")},cmd_showdown:function(t,e,i,n){var o=this,s=JSON.parse(n[0]);this._printLog(t,e),s.winList.forEach(function(t){o._printLog("\t\t第",s.poolIndex,"池_贏家: set_",t.pos,"贏",o._unitParse(t.chip),"，桌上錢包變為",o._unitParse(t.currchips),"cardType",t.ct)}),this._isPause=!0},cmd_noshowdown:function(t,e,i,n){this._printLog(t,e,"不用比牌！！(set_"+n[0]+") 贏",n[1],"，桌上錢包變為",this._unitParse(n[3])),this._isPause=!0},cmd_tax_gold:function(t,e,i,n){this._printLog(t,e,i,"被系統抽趴",this._unitParse(n[0])),this._isPause=!0},cmd_need_pay:function(t,e,i,n){this._printLog(t,e,"(sit_"+n[0]+") 破產！"),this._nextCommand(1,t,i,n),this._isPause=!0},cmd_need_chips:function(t,e,i,n){this._printLog(t,e,i,"桌上錢包剩下",n[0],"需再補入",n[1],"(",n[2],"%)")},cmd_stand:function(t,e,i,n){this._printLog(t,e,"set_"+n[0]+"已離開座位")},cmd_nWatcher:function(t,e,i,n){this._printLog(t,e,"有",n[0],"名玩家在旁觀")},cmd_unset_rckey:function(t,e,i,n){this._printLog(t,e,i,"未入座_斷線_原因:",n[0],"(...skey)"),this._isPause=!0},cmd_OLEH:function(t,e,i,n){this._printLog(t,e,"哈囉！新桌號:",n[0])},cmd_gsOLEH_extra:function(t,e,i,n){var o=JSON.parse(n[0]);this._printLog(t,e,"(region_"+o.region+")",o.room_type_name,o.room_name)},cmd_dealer:function(t,e,i,n){this._printLog(t,e,"莊家 (sit_"+n[0]+")"),this._isPause=!0},cmd_ante:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"的底注",this._unitParse(n[1])),this._nextCommand(2,t,i,n)},cmd_pot:function(t,e,i,n){var o=this;this._printLog(t,e,"檢查彩池"),n.forEach(function(t,e){0!=t&&o._printLog("\t\t彩池",e,"金額:",o._unitParse(t))})},cmd_raiseList:function(t,e,i,n){var o=this;this._printLog(t,e);var s=JSON.parse(n.join(" ")),a=s[0],r=s[1];a.forEach(function(t,e){return o._printLog("\t\t",t,":",o._unitParse(r[e]),"\n")}),this._isPause=!0},cmd_FirstParam:function(t,e,i,n){var o=this;"0"!=n[0]&&(this._printLog(t,e,i,"的手牌是",n),1==this._step?n.forEach(function(t,e){return o._card(t,e)}):n.forEach(function(t,e){return o.cardList.children[e].destroy()}))},cmd_ThirdParam:function(t,e,i,n){"0"!=n[0]&&(this._printLog(t,e,i,"拿第三張牌:",n[0]),1==this._step?this._card(n[0],2):this.cardList.children[2].destroy())},cmd_ForthParam:function(t,e,i,n){"0"!=n[0]&&(this._printLog(t,e,i,"拿第四張牌:",n),1==this._step?this._card(n[0],3):this.cardList.children[3].destroy())},cmd_BestCard:function(t,e,i,n){this._printLog(t,e,i);var o=JSON.parse(n[0]);this._printLog("\t\t分數 "+o.leftScore+":"+o.rightScore+"\n\t\t牌面 "+o.leftCards+"|"+o.rightCards+"\n\t\t排序 "+o.cardsOrder),this._isPause=!0},cmd_play:function(t,e,i,n){this._printLog(t,e,"輪到 sit_"+n[0]+" 的玩家","(可考慮"+n[2]+"秒)","桌上錢包",this._unitParse(n[3])),"1"==n[1]&&this._printLog("\t\t(",i,"想跟牌要補",this._unitParse(n[4]),"，想加注要壓",this._unitParse(n[5]))},cmd_check:function(t,e,i,n){n[0]&&(this._printLog(t,e,i,"(sit_"+n[2]+")","0"==n[0]?"請求過牌":"過牌請求失敗"),this._nextCommand(1,t,i,n))},cmd_plcheck:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"已過牌"),this._isPause=!0},cmd_call:function(t,e,i,n){n[0]&&(this._printLog(t,e,i,"(sit_"+n[2]+")","0"==n[0]?"請求跟注"+this._unitParse(n[3]):"跟注請求失敗"),this._nextCommand(1,t,i,n))},cmd_plcall:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"已跟注",this._unitParse(n[1])),this._nextCommand(2,t,i,n),this._isPause=!0},cmd_fold:function(t,e,i,n){n[0]&&(this._printLog(t,e,i,"(sit_"+n[2]+")","0"==n[0]?"請求棄牌":"棄牌請求失敗"),this._nextCommand(1,t,i,n))},cmd_plfold:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"已棄牌"),this._isPause=!0},cmd_raise:function(t,e,i,n){n[1]&&(this._printLog(t,e,i,"(sit_"+n[2]+")","0"==n[0]?"請求加注 "+this._unitParse(n[3]):"加注請求失敗"),this._nextCommand(1,t,i,n))},cmd_plraise:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"已加注"+this._unitParse(n[1])),this._nextCommand(2,t,i,n),this._isPause=!0},cmd_allin:function(t,e,i,n){this._printLog(t,e,i,"請求梭哈")},cmd_plallin:function(t,e,i,n){this._printLog(t,e,"sit_"+n[0],"全梭了!!"),this._nextCommand(1,t,i,n)},cmd_set_level:function(t,e,i,n){this._printLog(t,e,"恭喜玩家",i,"升到",n,"級")},cmd_current_playing:function(t,e,i,n){this._printLog(t,e,i,"是不是有局正在進行?",n[0])},cmd_voiceText:function(t,e,i,n){this._printLog(t,e,i,"：『",decodeURIComponent(n[0]),n[1],"』")},cmd_sendTips:function(t,e,i,n){"bound cmd_sendTips"!=this._actionList[this._count+1].name&&this._printLog(t,e,"sit_"+n[0],"給小費",this._unitParse(n[1]),"，荷官：『",decodeURIComponent(n[2]),"』")},cmd_update_upgrade:function(t,e,i,n){this._printLog(t,e,"每個人升幾級:",n[0]),this._nextCommand(1,t,i,n)},cmd_update_skillrate:function(t,e,i,n){this._printLog(t,e,":",n[0]),this._nextCommand(1,t,i,n)},cmd_update_lvupneed:function(t,e,i,n){this._printLog(t,e,"每個人升級還需多少經驗值:",n[0]),this._nextCommand(1,t,i,n)},cmd_update_exp:function(t,e,i,n){this._printLog(t,e,"更新當前經驗值:",n[0]),this._nextCommand(1,t,i,n)},cmd_update_getexp:function(t,e,i,n){this._printLog(t,e,"每個人得到的經驗值:",n[0]),this._nextCommand(1,t,i,n)},cmd_update_level:function(t,e,i,n){this._printLog(t,e,"每個人新的等級:",n[0]),this._nextCommand(1,t,i,n)},cmd_NextGame:function(t,e,i,n){this._printLog(t,e,"下一局遊戲在",n[0],"秒後開始")},cmd_stop_count_down:function(t,e,i,n){this._printLog(t,e,"牌局中人數不足，暫停計數")},cmd_stopGame:function(t,e,i,n){this._printLog(t,e,i,"遊戲中止 (坐下人數不足)")},cmd_toRegion:function(t,e,i,n){this._printLog(t,e,i,"前往",n[0],n[1])},_nextCommand:function(t,e,i,n){var o=n[t];o&&this["cmd_"+o](e,o,i,n.slice(t+1),n[0])},_printLog:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];cc.log(e.join(" "))},_unitParse:function(t){var e=t.toString(),i=e.length;return 3<i?this._unitParse(e.slice(0,i-3))+","+e.slice(i-3):e},_card:function(t,e){var i=cc.instantiate(this.card);i.parent=this.cardList,i.active=!0,i.setPositionX(e*i.width),t.split("").forEach(function(t,e){i.children[e].getComponent(cc.Label).string=["","⚀","⚁","⚂","⚃","⚄","⚅"][t]})},_cardSet:function(){}}),cc._RF.pop()},{LogSplit:"LogSplit"}],RabbitHint:[function(t,e,i){"use strict";cc._RF.push(e,"4ca94cqYtxM35bvy3CaMaKI","RabbitHint");var n=t("Firebase"),o=t("FlipData");cc.Class({extends:t("HintWindow"),properties:{},doCatch:function(t){n.refresh("rabbit_hunt/room/players/",{catch:t})},putWolfTooth:function(){o.addItem("wolfTooth")},digRabbitHole:function(){o.addItem("rabbitHole")},clearItem:function(){o.removeItem("wolfTooth"),o.removeItem("rabbitHole")}}),cc._RF.pop()},{Firebase:"Firebase",FlipData:"FlipData",HintWindow:"HintWindow"}],RabbitHunt:[function(t,e,i){"use strict";cc._RF.push(e,"8df58ALjEVMN4JWHFfZfjVU","RabbitHunt");var o=t("Firebase"),s=t("FlipData");cc.Class({extends:cc.Component,properties:{DataName:"DefaultDataName",Dialog:t("RabbitHint")},onLoad:function(){this._roomid="uniqneid",this._wolf=!1},start:function(){NAERT.addListener("NotifyPlayerLogin",this._register.bind(this),this)},_register:function(t){o.record(this.DataName+"/players/",{hint:t.detail,wolf:0}),this._addListener()},_addListener:function(){var n=this;o.listen(this.DataName+"/players/",function(t){var i=t.data;Object.keys(i).forEach(function(t){if(o.getUID()!=t){var e=i[t];n._isCoexist(e)&&n._onMeet(e)}})}),NAERT.addListener("NotifyUIControlFlip",function(t){this._roomid=s.getUniqneid(),o.refresh(this.DataName+"/players/"+o.getUID()+"/position",this._roomid)},this)},_onMeet:function(t){this._isHunting(t)&&this._huntHint(t.uniqneid),this._isFleeing(t)&&this._escapeHint()},_huntHint:function(t){this.Dialog.hint("Get it!"),this.Dialog.interval(1)},_escapeHint:function(){this.Dialog.hint("Run out!!"),this.Dialog.interval(1)},_gameoverHint:function(){this.Dialog.hint("Game Over!!"),this.Dialog.button("OK","hide")},_isCoexist:function(t){return t.position==this._roomid},_isCatching:function(t){return t.catch==o.getUID()},_isHunting:function(t){return 0==t.wolf&&this._wolf},_isFleeing:function(t){return 1==t.wolf&&!this._wolf}}),cc._RF.pop()},{Firebase:"Firebase",FlipData:"FlipData",RabbitHint:"RabbitHint"}],RoomTravel:[function(t,e,i){"use strict";cc._RF.push(e,"1eee3vYaN9J4aCUBzISAmR3","RoomTravel");var n=t("FlipData"),o=t("Firebase");cc.Class({extends:cc.Component,properties:{DataName:"DefaultDataName",Button:cc.Node},onLoad:function(){n.setDataName(this.DataName),this._uniqneid=o.getUID(),this._name="N-"+Math.floor(100*Math.random()).toString(),this._recordRef=""},start:function(){n.check(function(t){if(cc.log(t),t)this._register();else{var e=this.DataName;["A","B","C"].forEach(function(t){return o.record(e,{title:t})}),this.scheduleOnce(this._register.bind(this),.2)}}.bind(this))},_register:function(){cc.log("register"),n.bookmark(this._uniqneid,{hint:this._name}),o.check(this.DataName,this._fireRoomList.bind(this)),this._addListener()},_addListener:function(){},_fireRoomList:function(t){var i=this,n=t.data;Object.keys(n).forEach(function(t){var e=cc.instantiate(i.Button);e.name=t,e.parent=i.node,e.active=!0,e.getChildren()[0].getComponent(cc.Label).string=n[t].title,i._setButtonEvent(e,"_moveClick")})},_eventPlayerMove:function(t,e){var i=o.record(this.DataName+"/"+e+"/list",this._uniqneid);this._recordRef=this.DataName+"/"+e+"/list/"+i,this._prevRoomid&&o.remove(this.DataName+"/"+this._prevRoomid),this._prevRoomid=e,o.listen(this.DataName+"/"+e,function(t){t.data;this.node.parent.active=!1,this.node.parent.active=!0}.bind(this))},_moveClick:function(t,e){var i=t.target.name;o.destroy(this._recordRef),n.setUniqneid(i),this._eventPlayerMove(t,i)},_setButtonEvent:function(t,e,i){(t.getComponent(cc.Button)||t.addComponent(cc.Button)).clickEvents.push(this._eventHandlerClick(e,i))},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="RoomTravel",i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{Firebase:"Firebase",FlipData:"FlipData"}],Room:[function(t,e,i){"use strict";cc._RF.push(e,"4ec67ZOYHlAt70UrjOuZsi7","Room");var o=t("Firebase");cc.Class({extends:cc.Component,properties:{List:cc.Node,Table:cc.Node,NewButton:cc.Node},onLoad:function(){this._table=null,this._roomCode="uniqneid"},start:function(){this._setButtonEvent(this.NewButton,"_createRoom")},chain:function(t){return this._refRoomList=t+"room_list/",this.Table.active=!1,this},list:function(){return o.listen(this._refRoomList,this._roomList.bind(this)),this},create:function(t,e){var i={title:t,master_name:e};return this._table=cc.instantiate(this.Table),this._table.parent=this.List,this._table.active=!0,this._table.getComponent("Table").setInfo(i),this._roomCode=o.record(this._refRoomList,i),this},exit:function(){var e=this;return o.check(this._refRoomList+this._roomCode,function(t){t.num<=2&&o.destroy(e._refRoomList+e._roomCode),e.NewButton.active=!0,e._table.active=!1,e._roomCode="uniqneid"}),this},join:function(t){return o.check(this._refRoomList,function(t){t.success,t.data}),this},table:function(){return this._table.getComponent("Table").chain(this._refRoomList+this._roomCode+"/")},_roomList:function(t){var o=this,e=t.success,s=t.data;t.num;this.List.getChildren().forEach(function(t){return t.active=!1}),e?Object.keys(s).forEach(function(t,e){cc.log(s);var i=cc.instantiate(o.Table),n=i.getComponent("Table");i.name=t,i.parent=o.List,i.active=!0,n&&n.setInfo(s[t]),o._setButtonEvent(i,"_selectRoom")}):cc.log("無清單"),this.NewButton.active=!0},_selectRoom:function(e){var i=this;if(this._setButtonEvent(e.target),o.remove(this._refRoomList),this.NewButton.active=!1,cc.log("_roomCode:",this._roomCode),"uniqneid"!=this._roomCode){cc.log("重複"),this.table().quit();var n=this._roomCode;o.check(this._refRoomList+n,function(t){2==t.num&&o.destroy(i._refRoomList+n),i._table=e.target,i._roomCode=i._table.name,NAERT.dispatchCustomEvent("NotifyJoinRoom",i._roomCode,i)})}else this._table=e.target,this._roomCode=this._table.name,NAERT.dispatchCustomEvent("NotifyJoinRoom",this._roomCode,this)},_createRoom:function(t){this._setButtonEvent(t.target),o.remove(this._refRoomList),this.NewButton.active=!1,NAERT.dispatchCustomEvent("NotifyCreateRoom",this._roomCode,this)},_setButtonEvent:function(t,e,i){(t.getComponent(cc.Button)||t.addComponent(cc.Button)).clickEvents[0]=this._eventHandlerClick(e,i)},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="Room",i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{Firebase:"Firebase"}],SimpleMaze:[function(t,e,i){"use strict";cc._RF.push(e,"288460ABI1HOZ8vai8XJXrd","SimpleMaze");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{Dooroom:t("DoorRoom"),Character:cc.Node,CharacterLayout:cc.Node},start:function(){NAERT.localStorage.setItem("uniqueid",NAERT.randomUniqueCode()),this._uniqueid=NAERT.localStorage.getItem("uniqueid",NAERT.randomUniqueCode()),this.Character.active=!1,this.Dooroom.onStart(),this.Dooroom.addListener(),NAERT.addListener("NotifyDoorRoomMoved",this._doorRoomMoved.bind(this))},_doorRoomMoved:function(t){var r=this;this._prev&&n.remove(this._prev),n.listen(t.detail,function(t){var e=t.success,i=t.data;if(e){var s=-1,a=r.CharacterLayout.getChildren();a.forEach(function(t){return t.active=!1}),i.forEach(function(n,o){if(n[1]){var t=Object.keys(n[1]);t.forEach(function(t){var e=r.Dooroom.getTilesPostion(o),i=a[o]||cc.instantiate(r.Character);i.parent=r.CharacterLayout,i.active=!0,i.color=cc.Color.RED,i.setScale(1,1),i.setPosition(10*e.x,10*e.y),n[1][t]==r._uniqueid&&(i.color=cc.Color.GREEN,s=o)}),t.find(function(t){if(s==o&&n[1][t]!=r._uniqueid)return r.Dooroom.notify(),!0})}})}}),this._prev=t.detail}}),cc._RF.pop()},{DoorRoom:"DoorRoom",Firebase:"Firebase"}],SlideCursor:[function(t,e,i){"use strict";cc._RF.push(e,"6d41dHU4+dKR5yOa06eX1xj","SlideCursor");var n=t("Firebase");cc.Class({extends:cc.Component,onLoad:function(){var i=this;n.listen("cursor",function(t){var e=t.data;i.node.position=e})}}),cc._RF.pop()},{Firebase:"Firebase"}],SlideManager:[function(t,e,i){"use strict";cc._RF.push(e,"b1eb0za7EpKIL9DtfU2an9b","SlideManager");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){this._addListener()},_addListener:function(){var s=this;n.listen("cursor/",function(t){var n=t.data,o=s.node.getChildren();o.forEach(function(t){return t.active=!1}),Object.keys(n).forEach(function(t,e){var i=o[e]||cc.instantiate(o[0]);i.name=t,i.active=!0,i.parent=s.node,callback&&callback(n,t,i)})})},onDrag:function(t){}}),cc._RF.pop()},{Firebase:"Firebase"}],SmallBigCards:[function(t,e,i){"use strict";cc._RF.push(e,"32977VvxENOJKcT5xcslBoN","SmallBigCards");var l=t("Firebase");cc.Class({extends:cc.Component,properties:{InfoPlayers:cc.Node,Field:cc.Node,FieldBase:cc.Node,Hand:cc.Node,Card:cc.Node,CardBase:cc.Node},onLoad:function(){this._refLibary="GiftCardsDefaultFieldLibary/",this._refFields="GiftCardsDefaultFieldField/",this._refPlayers="GiftCardsDefaultPlayers/",this._playerCode="uniqneid",this._libary=[],this._handCards=[];var t=cc.director.getScene().getChildren()[0];this._halfWidth=.5*t.width,this._halfHeight=.5*t.width},cards:function(t,e){return this.node.active=!0,this._refPlayers=t+"/table/players/",this._refLibary=t+"/cards/libary/",this._refFields=t+"/cards/fields/",this._refDeal=t+"/cards/deal/",this._refCompare=t+"/cards/compare/",this._refDraw=t+"/cards/draw/",this._libary=[],this._handCards=[],this._playerCode=e,this},create:function(t,e){for(var i=t;i<=e;i++)this._libary.push(i);return this},shuffle:function(){return this._libary.sort(function(){return.5-Math.random()}),this},remove:function(t){return this._libary.splice(0,t),this},saveLibary:function(){return l.refresh(this._refLibary,this._libary),this._libary=[],this},cleanLibary:function(){return this._handCards=[],l.destroy(this._refLibary),this},cleanField:function(){return l.destroy(this._refFields),this},greeting:function(t){this._openHandCardNum(0),this._ready(t),l.listen(this._refDeal,this._showFieldCard.bind(this)),l.listen(this._refCompare,this._compareCards.bind(this)),l.listen(this._refDraw,this._receiveDraw.bind(this))},fan:function(s){for(var a=this,r=[],t=0;t<s;t++)r.push("not_draw");return this.scheduleOnce(function(){cc.error("延後一秒，是因為剛執行 this._ready 後實體位置並未改變，會讓位置對不上"),l.check(a._refLibary,function(t){var e=t.success,i=t.data,n=t.num;if(e){var o=n%s;i=i.slice(o,i.length),l.refresh(a._refLibary,i.splice(s)),l.refresh(a._refFields,i.slice(0,s)),l.refresh(a._refDeal,r)}else l.destroy(a._refFields),l.destroy(a._refDeal),l.remind(a._refCompare,"done")})}),this},fin:function(){l.remind(this._refCompare,"go")},_openHandCardNum:function(t){l.refresh(this._refPlayers+this._playerCode+"/hand",t)},_ready:function(t){var e=this.FieldBase.getChildren(),i=this.Field.getChildren();e.forEach(function(t){return t.active=!1}),i.forEach(function(t){return t.active=!1});for(var n=0;n<t;n++){var o=e[n]||cc.instantiate(this.CardBase),s=i[n]||cc.instantiate(this.Card);o.parent=this.FieldBase,s.parent=this.Field,o.active=!0,s.active=!0,s.setPosition(0,0)}},_showFieldCard:function(t){var r=this,e=t.success,i=t.num,c=t.data;if(e){var h=this.FieldBase.getChildren(),u=this.Field.getChildren(),d=0;Object.keys(c).forEach(function(t,e){var i=c[t],n=u[e];if("not_draw"==(n.name=i)){var o=h[e],s=r.Field.convertToNodeSpace(cc.v2(r._halfWidth+o.x,r._halfHeight+o.y+o.height));0==r._handCards.length?r._setButtonEvent(n,"_drawFieldCard",e):r._setButtonEvent(n),r._tweenCard(n,s)}else{var a=r.InfoPlayers.getChildren().find(function(t){return t.name==i});s=r.Field.convertToNodeSpace(cc.v2(r._halfWidth+a.x,a.y));r._setButtonEvent(n),r._tweenCard(n,s),d++}}),cc.log("抽牌:",d,"/",i),d==i&&(l.refresh(this._refPlayers+this._playerCode+"/card",this._handCards[0]),NAERT.dispatchCustomEvent("NotifyCompareCard","go",this))}},_drawFieldCard:function(n,o){var s=this;l.check(this._refFields+o,function(t){var e=t.success,i=t.data;cc.log(i,n.target),e?(n.target.getComponentInChildren(cc.Label).string=i.toString(),s._handCards.push(i),s._openHandCardNum(s._handCards.length),l.remind(s._refDraw,{player_id:s._playerCode,card_index:o})):cc.error("沒收到 FieldCard")})},_receiveDraw:function(t){var e=t.success,i=t.data;if(e){var n=i.player_id,o=i.card_index;l.check(this._refDeal,function(t){var e=t.data;cc.log("請求這張牌",e[o]),"not_draw"==e[o]&&l.refresh(this._refDeal+o,n)}.bind(this))}},_compareCards:function(t){var r=this;t.success&&l.check(this._refDeal,function(t){var e=t.success,o=t.data;if(e){var s=[],a=r.Field.getChildren();Object.keys(o).forEach(function(t,e){cc.log("cardIndex:",t,o);var i=o[t];cc.log("playerCode:",i);var n=a.find(function(t){return t.name==i});l.check(r._refFields+t,function(t){var e=t.data;cc.log(i,"秀",e),n.getComponentInChildren(cc.Label).string=e,s.push({playerCode:i,card:e})})}),r.scheduleOnce(function(){return r._resultScore(s)},1)}else NAERT.dispatchCustomEvent("NotifyResultGame","done",r)})},_resultScore:function(t){var e=t.sort(function(t,e){return t.card-e.card})[t.length-1];cc.log("贏家",e.playerCode),this._clearnCards(),NAERT.dispatchCustomEvent("NotifyGameWinner",e.playerCode,this)},_clearnCards:function(){var i=this;this._handCards=[],this._openHandCardNum(0),this.Field.getChildren().forEach(function(t){t.getComponentInChildren(cc.Label).string="";var e=i.Field.convertToNodeSpace(cc.v2(-80,480));i._tweenCard(t,e)})},_cardBack:function(){},_cardFace:function(t){},_moveFieldCard:function(){},_flipCard:function(t){var e=t.x,i=t.y;t.runAction(cc.sequence(cc.spawn(cc.moveTo(.6,cc.v2(e+50,i+10)).easing(cc.easeBackOut()),cc.scaleTo(.3,.01,1).easing(cc.easeBackOut())),cc.callFunc(this._fieldCardFace.bind(this)),cc.spawn(cc.moveTo(1.2,cc.v2(e+10,i+12)).easing(cc.easeBackOut()),cc.scaleTo(.6,1.1,1.1).easing(cc.easeBackOut())),cc.spawn(cc.moveTo(.1,cc.v2(e,i)),cc.scaleTo(.1,1,1))))},_tweenCard:function(t,e){t.getComponent("Follower").virtualTarget(e)},_setButtonEvent:function(t,e,i){var n=t.getComponent(cc.Button)||t.addComponent(cc.Button);e?n.clickEvents[0]=this._eventHandlerClick(e,i):n.clickEvents=[]},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="SmallBigCards",i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{Firebase:"Firebase"}],SmallBigData:[function(t,e,i){"use strict";cc._RF.push(e,"6c39bokZzVL3YY7Ld3SCiRm","SmallBigData");var n=t("Firebase"),o={hand:s,field:a},s={ownNumber:function(t){return n.refresh(ref+"/table/players/"+playercode+"/hand",t)},ownCards:function(t){return n.refresh(ref+"/table/players/"+playercode+"/card",t[0])}},a={check:function(t){return n.check(ref+"/cards/fields/"+t,cc.log.bind(void 0,"callback"))}};e.exports={setRefName:function(t){return ref=t},setPlayerCode:function(t){return playercode=t},cards:o,players:{}},cc._RF.pop()},{Firebase:"Firebase"}],SmallBigPlayerInfo:[function(t,e,i){"use strict";cc._RF.push(e,"2bfa9IEdq5FdLAAx+l3B8pD","SmallBigPlayerInfo"),cc.Class({extends:cc.Component,properties:{Prompt:cc.Node,Name:cc.Label,Score:cc.Label},setInfo:function(t){this.Name.string=t.name,this.Score.string=t.score,this.Prompt.active=1==t.hand}}),cc._RF.pop()},{}],SmallBigPlayer:[function(t,e,i){"use strict";cc._RF.push(e,"93d22pgjqJKFLxRNCH2zgPh","SmallBigPlayer");var n=t("Firebase");cc.Class({extends:cc.Component,properties:{InfoPlayer:cc.Node,ThePlayer:cc.Node,Player:cc.Node},onLoad:function(){this._refTablePlayers="GiftCardsDefaultName/",this._playerCode="uniqneid"},players:function(t,e){return this.node.active=!0,cc.log("refname:::::",t),this._refTablePlayers=t+"/table/players/",this._playerCode=e,cc.log(this.ThePlayer),this.ThePlayer.name=this._playerCode,this},greeting:function(){cc.log("this._refTablePlayers:::",this._refTablePlayers),n.listen(this._refTablePlayers,this._playersOnTable.bind(this))},kick:function(){n.destroy(this._refTablePlayers+this._playerCode)},_playersOnTable:function(t){var o=this,e=t.success,s=t.data,i=t.num,a=this.node.width/(Math.max(i,2)-1)-10,r=this.InfoPlayer.getChildren();r.forEach(function(t,e){return t.active=0==e}),e&&Object.keys(s).forEach(function(e,t){var i=s[e];if(e!=o._playerCode){var n=r.find(function(t){return t.name==e})||cc.instantiate(o.Player);n.name=e,n.parent=o.InfoPlayer,n.active=!0,n.width=a,n.getComponent("SmallBigPlayerInfo").setInfo(i)}else o.ThePlayer.getComponent("SmallBigPlayerInfo").setInfo(i)})}}),cc._RF.pop()},{Firebase:"Firebase"}],SoryForHonor:[function(t,e,i){"use strict";cc._RF.push(e,"240c2jZ0QlM4bNKWVTeln8X","SoryForHonor");var u=t("Firebase"),d=t("Throw"),l=t("HitArea"),f=t("Pitcher");cc.Class({extends:t("GameMain"),properties:{Ball:t("BouncyBall"),Cursor:cc.Node,Target:cc.Node},onLoad:function(){this._refGameCode="ref/",this._refGamePlayers="ref/",this._refGameBall="ref/",this._roommateCode="uniqneid",this._playerCode="uniqneid",this._isAlone=!1},_joinGame:function(t,e,i,n,o){this._refGameCode=t,this._refGamePlayers=e,this._playerInfo=i,this._playerCode=i.code,this._refGameSelf=e+this._playerCode,this._refGameBall=t+"/ball/",this.Cursor.setPosition(cc.v2(Math.floor(1e4*Math.random())%400-200,-100)),this.Ball.position({x:0,y:0}),this._refreshPlayerPosition(this._playerCode,this.Cursor.position),u.listen(e,this._refreshAllPosition.bind(this)),u.listen(this._refGameBall,this._refreshBallPosition.bind(this)),NAERT.addListener("NotifyControlSlidePosition",this._slideMyPosition.bind(this),this)},_slideMyPosition:function(t){this._refreshPlayerPosition(this._playerCode,t.detail)},_refreshPlayerPosition:function(t,e){u.refresh(this._refGamePlayers+t+"/position",e)},_refreshAllPosition:function(t){var n=this,e=t.success,h=t.data,i=t.num,o=this.node.getChildren();o.forEach(function(t){return t.active=!1}),this._isAlone=1==i,e&&Object.keys(h).forEach(function(c,t){var e=h[c],i=o.find(function(t){return t.name==c})||cc.instantiate(n.Target);i.name=c,i.active=!0,i.parent=n.node,i.getComponentInChildren(cc.Label).string=e.name;i.getComponent("Follower").onCurrent(function(t){var a=this,r=t.position;if(Object.keys(h).forEach(function(t){var e=h[t].position;if(a._playerCode==c&&t!=a._playerCode&&a._hitTest(r,e)){var i=.05*l.distance(r,e),n=d.angle(r,e),o=d.prediction(e,n,i,.03),s=d.prediction(r,n+180,i,.03);a._refreshPlayerPosition(t,o),a._refreshPlayerPosition(a._playerCode,s),a.Cursor.setPosition(s)}}),l.hit(t,this.Ball.node)){var e=this.Cursor.position,i=this.Ball.node.position,n=.15*l.distance(r,e),o=d.angle(r,i),s=f.prediction(i,o,n,0,2);u.refresh(this._refGameBall,{position:s,magnitude:n,angle:o})}}.bind(n)).virtualTarget(e.position)})},_refreshBallPosition:function(t){var e=t.success,i=t.data;if(e){var n=i.position,o=i.angle,s=i.magnitude;this.Ball.position(n).angle(o).retard(.06).onHit(this._goalSuccess.bind(this)).magnitude(s)}},_goalSuccess:function(t,e){cc.log("碰到第",e,"門"),this.Cursor.setPosition(cc.v2(Math.floor(1e4*Math.random())%400-200,-100)),u.refresh(this._refGameSelf,{name:this._playerInfo.name,position:this.Cursor.position}),u.refresh(this._refGameBall,{position:{x:0,y:0},magnitude:0,angle:0}),this.Dialog.hint("Goal!"),this.Dialog.button("OK","hide")},_quitGame:function(){this._isAlone?u.destroy(this._refGameCode):u.destroy(this._refGameSelf)},_fullScreen:function(){cc.screen.fullScreen()?cc.screen.exitFullScreen():cc.screen.requestFullScreen()},_hitTest:function(t,e){var i=Math.abs(t.x-e.x)<=30,n=Math.abs(t.y-e.y)<=30;return i&&n}}),cc._RF.pop()},{BouncyBall:"BouncyBall",Firebase:"Firebase",GameMain:"GameMain",HitArea:"HitArea",Pitcher:"Pitcher",Throw:"Throw"}],StageLayer:[function(t,e,i){"use strict";cc._RF.push(e,"e26bfw6PW5FXI1VWf7QFkEl","StageLayer");var o=t("HitArea"),n=(new cc.Color(255,80,80),new cc.Color(182,182,182)),s=new cc.Color(255,255,255);cc.Class({extends:cc.Component,properties:{layerNode:cc.Node,stageList:cc.Node,actorList:cc.Node,keepinCarmra:t("KeepInCamra")},onLoad:function(){this.role=null,this.actors=[],this.underY=-1200,cc.log(this.node.convertToWorldSpaceAR(cc.v2(100,100))),this._init()},update:function(){var i=this,n=this.role.node;this.role.control;this._motion(this.role,this.role.control.tap);var t=this._hitTest(n,this.actors);t.forEach(function(t){var e=t.node.y+.5*(n.height+t.node.height);n.y<e-i.role.speedCur.y&&i.role.speedCur.y<=0&&(o.block(n,t.node,2)&&i.role.speedCur.y<-2?(n.y=e,i.role.isStand=!0,i.role.speedCur.y=0):(n.x=t.node.x+(n.width+t.node.width)*(n.x>t.node.x?.5:-.5),i.role.speedCur.x*=-.2))}),n.x+=this.role.speedCur.x,n.y+=this.role.speedCur.y,0==t.length&&-10<this.role.speedCur.y&&(this.role.speedCur.y-=2),n.y<this.underY&&(n.position=new cc.v2(0,0),this.role.speedCur.x=0,this.role.speedCur.y=0)},_init:function(){this.actors=this.actorList.getChildren().map(function(t){return{node:t,attention:t.width+t.height,speedMax:10,speedCur:{x:0,y:0},speedUp:1,jumpMax:20,jumpCur:0,isStand:!1}}),this.role=this.actors.shift(),this.role.control=this.role.node.getComponent("ControlActor")},_hitTest:function(i,t){return t.filter(function(t){var e=t.node;return o.distance(i,e)<t.attention?(e.color=s,o.hit(i,e)):(e.color=n,!1)})},_motion:function(t,e){e[0]&&e[1]?(t.isStand&&t.jumpCur<t.jumpMax&&(t.jumpCur+=2),t.isStand&&.01<Math.abs(t.speedCur.x)&&(t.speedCur.x*=.95)):e[0]?t.climbing||(t.isStand?t.speedCur.x>-t.speedMax&&(t.speedCur.x+=-t.speedUp):t.speedCur.x>.5*-t.speedMax&&(t.speedCur.x+=.5*-t.speedUp),this._checkJump(t)):e[1]?t.climbing||(t.isStand?t.speedCur.x<t.speedMax&&(t.speedCur.x+=t.speedUp):t.speedCur.x<.5*t.speedMax&&(t.speedCur.x+=.5*t.speedUp),this._checkJump(t)):(t.isStand&&.01<Math.abs(t.speedCur.x)&&(t.speedCur.x*=.5),t.climbing=!1,this._checkJump(t))},_checkJump:function(t){0<t.jumpCur&&(t.speedCur.y+=t.jumpCur,t.isStand=!1,t.jumpCur=0)}}),cc._RF.pop()},{HitArea:"HitArea",KeepInCamra:"KeepInCamra"}],StageManager:[function(t,e,i){"use strict";cc._RF.push(e,"29fe1tew/VPyajf1Ir5+gy6","StageManager");var n=t("Firebase"),o=cc.Enum({NONE:-1,BACKGROUND:-1,FLOOR:-1,WALL:-1,CEILING:-1,ORGAN:-1,TRAP:-1,PROMPT:-1});cc.Class({extends:cc.Component,statics:{Type:o},properties:{BackgroundLayout:cc.Node,FloorLayout:cc.Node,WallLayout:cc.Node,CeilingLayout:cc.Node,OrganLayout:cc.Node,TrapLayout:cc.Node,PromptLayout:cc.Node},saveStageMap:function(t){var e={type:this._type,position:this.node.position,size:this.node.getContentSize()};n.refresh(t,[e])},setServerInfo:function(t){var i=this;t.forEach(function(t){var e=cc.instantiate(i.Target);switch(e.setPosition(t.position),e.setContentSize(t.size),t.type){case o.BACKGROUND:e.parent=i.BackgroundLayout;break;case o.FLOOR:e.parent=i.FloorLayout;break;case o.WALL:e.parent=i.WallLayout;break;case o.CEILING:e.parent=i.CeilingLayout;break;case o.ORGAN:e.parent=i.OrganLayout;break;case o.TRAP:e.parent=i.TrapLayout;break;case o.PROMPT:e.parent=i.PromptLayout}})},clearStage:function(){this.BackgroundLayout.getChildren(function(t){return t.destroy()}),this.FloorLayout.getChildren(function(t){return t.destroy()}),this.WallLayout.getChildren(function(t){return t.destroy()}),this.CeilingLayout.getChildren(function(t){return t.destroy()}),this.OrganLayout.getChildren(function(t){return t.destroy()}),this.TrapLayout.getChildren(function(t){return t.destroy()}),this.PromptLayout.getChildren(function(t){return t.destroy()})}}),cc._RF.pop()},{Firebase:"Firebase"}],Status:[function(t,e,i){"use strict";cc._RF.push(e,"c0746QZ08tG3YIRMidebriM","Status");var n=0;e.exports.move=function(t){var e=t[0],i=t[1];return e&&i||(e?n=Math.max(-10,n-2):i&&(n=Math.min(10,n+2))),{x:n,y:0}},cc._RF.pop()},{}],Table:[function(t,e,i){"use strict";cc._RF.push(e,"1f68aRMNG1HHZvg1n1wUSEO","Table");var r=t("Firebase");cc.Class({extends:cc.Component,properties:{Bar:cc.Node,List:cc.Node,Chair:cc.Node,QuitButton:cc.Node,Title:cc.Label,Master:cc.Label},onLoad:function(){this._chair=null,this._chairCode="uniqneid",this._isMaster=!1,this._minmium=2,this._maxmium=2},start:function(){this._setButtonEvent(this.QuitButton,"_abortRoom")},chain:function(t){return this._refChairList=t+"chair_list/",this.Chair.active=!1,this},min:function(t){return this._minmium=t,this},max:function(t){return this._maxmium=t,this},join:function(t){return this._joinTable(t),this.QuitButton.getComponentInChildren(cc.Label).string=this.Title.string,this},list:function(){var t=this;return this.scheduleOnce(function(){r.remove(t._refChairList),r.remove(t._refChairList+"guideGame"),r.listen(t._refChairList,t._chairList.bind(t)),r.listen(t._refChairList+"guideGame",t._guideGame.bind(t))},1),this},sit:function(){r.refresh(this._refChairList+this._chairCode+"/status","ready")},stand:function(){r.refresh(this._refChairList+this._chairCode+"/status","unready")},quit:function(){this._leaveTable()},guideGame:function(t,e){r.remind(this._refChairList+"guideGame",{gameCode:t,count:e})},setInfo:function(t){this.Title.string=t.title,this.Master.string=t.master_name,this.QuitButton.active=!1},_chairList:function(t){var s=this,e=t.success,a=t.data,i=t.num;if(e){this.List.active=!0,this.Bar.active=!1,this.QuitButton.active=!0;var r=0,c=this.List.getChildren();c.forEach(function(t){return t.active=!1}),Object.keys(a).forEach(function(e,t){if(cc.log(e),"guideGame"!=e){var i=a[e],n="ready"==i.status,o=c.find(function(t){return t.name==e||!t.active})||cc.instantiate(s.Chair);o.name=e,o.parent=s.List,o.active=!0,cc.log(s._chairCode," == ",e),o.getComponent("Chair").setInfo(i,s._chairCode==e),n&&r++}})}else cc.log("無等待玩家清單");cc.log(r," >= ",this._minmium),this._isMaster&&r>=this._minmium&&r==i&&this._createGame(r)},_joinTable:function(s){var a=this;r.check(this._refChairList,function(t){var e=t.success,i=t.data,n=t.num,o=void 0===n?0:n;cc.log(a._maxmium,o),a._maxmium>=o?(a._isMaster=!e,cc.log("重複",a._refChairList,a._chairCode),i&&Object.keys(i).some(function(t){return t==a._chairCode})&&r.destroy(a._refChairList+a._chairCode),a._chairCode=r.record(a._refChairList,{name:s,status:"unready"})):cc.log("人數達上限"),cc.log("是否為桌長",a._isMaster)})},_abortRoom:function(){NAERT.dispatchCustomEvent("NotifyAbortRoom","data",this),NAERT.dispatchCustomEvent("NotifyLobbyRoom","data",this)},_leaveTable:function(){this.List.active=!1,this.Bar.active=!1,this.QuitButton.active=!1,cc.log("離開桌子",this._refChairList,this._chairCode),r.remove(this._refChairList),r.remove(this._refChairList+"joinGame"),r.destroy(this._refChairList+this._chairCode)},_createGame:function(t){NAERT.dispatchCustomEvent("NotifyCreateGame",t,this)},_guideGame:function(t){var e=t.success,i=t.data;e&&(cc.log("gogog ",i),NAERT.dispatchCustomEvent("NotifyGuideGame",i,this))},_setButtonEvent:function(t,e,i){(t.getComponent(cc.Button)||t.addComponent(cc.Button)).clickEvents[0]=this._eventHandlerClick(e,i)},_eventHandlerClick:function(t,e){var i=new cc.Component.EventHandler;return i.target=this.node,i.component="Table",i.handler=t,i.customEventData=e,i}}),cc._RF.pop()},{Firebase:"Firebase"}],Throw:[function(t,e,i){"use strict";cc._RF.push(e,"6f6e74nu0hDQZtT5Iqg3O/r","Throw");var a=function(t,e,i){return i?{x:t.x+1e-4*Math.floor(i*Math.cos(e*Math.PI/180)*1e4),y:t.y+1e-4*Math.floor(i*Math.sin(e*Math.PI/180)*1e4)}:t},r=function(t,e){return.001<Math.abs(t)?t-=t*e:0};e.exports={prediction:function(t,e,i,n){for(var o={x:t.x,y:t.y},s=0;.05<i;)o=a(o,e,i),i=r(i,n),s++;return cc.log(s),o},angle:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)/Math.PI*180},project:a,retard:r},cc._RF.pop()},{}],TrapHint:[function(t,e,i){"use strict";cc._RF.push(e,"57aa2N7I2RLl6erH6PQOFsz","TrapHint");t("Firebase");cc.Class({extends:t("HintWindow"),properties:{},onEnable:function(){this.EventButton.active=!1,this.ButtonLayout.getChildren(cc.Button).forEach(function(t){return t.destroy()}),this._tween(this.node,[cc.v2(0,-5),cc.v2(0,0)],[0,255])},trap:function(t){this.hint("觸發陷阱！"+t),this.button("確定",this._traped.bind(this))},_traped:function(){NAERT.dispatchCustomEvent("NotifyTraped","ok",this),this.hide()}}),cc._RF.pop()},{Firebase:"Firebase",HintWindow:"HintWindow"}],TweenNode:[function(t,e,i){"use strict";cc._RF.push(e,"d0235e3GYdJXbe+6AQGMoG8","TweenNode");var n=t("Throw");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._angle=0,this._magnitude=0,this._damp=0},retard:function(t,e,i){this._magnitude=t,this._angle=e,this._damp=i,this.schedule(this._retardTween.bind(this),.03,152)},_retardTween:function(){this.node.setPosition(n.project(this.node,this._angle,this._magnitude)),this._magnitude=n.retard(this._magnitude,this._damp)}}),cc._RF.pop()},{Throw:"Throw"}],WaterLauncher:[function(t,e,i){"use strict";cc._RF.push(e,"7580dQhGdBEfYWMQ1U41y8X","WaterLauncher");t("CommonStatus");cc.Class({extends:cc.Component,properties:{Layout:cc.Node,Target:cc.Node,Nozzle:cc.Node},onLoad:function(){this._duration=1,this._magnitude=1,this._lifeCycle=-1},start:function(){this.lifeCycle(50).duration(5).magnitude(35).launch()},duration:function(t){return this._duration=t,this},magnitude:function(t){return this._magnitude=t,this},lifeCycle:function(t){return this._lifeCycle=t,this},launch:function(){return this.schedule(function(){var t=new cc.instantiate(this.Target),e=this.node.rotation,i=t.getComponent("CrazyHotActor"),n=this.node.convertToWorldSpace(cc.v2(this.Nozzle.x,this.Nozzle.y));t.x=this.Nozzle.x+n.x-480,t.y=this.Nozzle.y+n.y-320,t.parent=this.Layout,i.lifeCycle(this._lifeCycle),i.launch(e,this._magnitude)}.bind(this),this._duration),this}}),cc._RF.pop()},{CommonStatus:"CommonStatus"}],"copy-text-to-clipboard":[function(t,e,i){"use strict";cc._RF.push(e,"02b29EetfNFQrw4/GxUVKBN","copy-text-to-clipboard");t("path");e.exports=function(t){var e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.contain="strict",e.style.position="absolute",e.style.left="1px",e.style.fontSize="12pt";var i=getSelection(),n=!1;0<i.rangeCount&&(n=i.getRangeAt(0)),document.body.appendChild(e),e.select(),e.selectionStart=0,e.selectionEnd=t.length;var o=!1;cc.log(document.execCommand);try{o=document.execCommand("copy")}catch(t){cc.log(t)}return document.body.removeChild(e),n&&(i.removeAllRanges(),i.addRange(n)),o},cc._RF.pop()},{path:1}]},{},["ControlActor","ControlFlip","ControlFoldList","ControlMain","ControlPoke","ControlSlide","ControlTwoSideTap","Firebase","ColorEditor","GraphicsPainter","Grid","MapEditor","copy-text-to-clipboard","JoinRoomHint","LobbyRoomDialog","LobbyTool","LobbyUI","DiceManager","FlipManager","SlideManager","Dice","EventButton","EventDestroy","EventHover","Follower","GoogleLogin","HintWindow","HitArea","KeepInCamra","ListFolder","Pitcher","Poker","Throw","Bullet","CommonHint","GridMapEditor","RabbitHint","RabbitHunt","FlipData","SlideCursor","SoryForHonor","StageLayer","TweenNode","BoardGameGift","GiftCards","GiftPlayers","LobbyRoom","BoardSmallBig","GiftRoommaster","SmallBigCards","SmallBigData","SmallBigPlayer","SmallBigPlayerInfo","BouncyBall","FlockDialog","FlockMain","FlockMapEditor","GoldCollectHint","GoldCollection","CrashNode","HeadToHead","Chair","GameMain","Lobby","Room","Table","GameMainTest","LogSplit","QQLogView","DoorRoom","DoorRoomMap","GatesTile","PixelImg","SimpleMaze","TrapHint","HeartDisease","HeartDiseaseMain","CommonStatus","CrazyHot99","CrazyHotActor","CrazyHotMapEditor","CrazyHotMapTile","EditMapHint","HintTest","HitTestManager","MuoseTracer","NewScript - 001","NewScript","RoomTravel","StageManager","Status","WaterLauncher","FlipUIEditor","FlipUIHint","FlipUIPage","ListItem","PanelList"]);